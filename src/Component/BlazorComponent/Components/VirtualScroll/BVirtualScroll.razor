@namespace BlazorComponent
@typeparam TItem
@inherits BDomComponentBase
@using Microsoft.AspNetCore.Components.Web.Virtualization

<div class="@CssProvider.GetClass()" style="@CssProvider.GetStyle()" id="@Id" @onscroll="OnScroll">
    <div class="@CssProvider.GetClass("container")" style="@CssProvider.GetStyle("container")">
        @{
            var items = Items.Skip(FirstToRender).Take(LastToRender - FirstToRender).ToArray();
        }
        @for (var i = 0; i < items.Length; i++)
        {
            var item = items[i];
            OnRenderItem(i, item);

            <div class="@CssProvider.GetClass("item")" style="@CssProvider.GetStyle("item")">
                @ItemContent(item)
            </div>
        }
    </div>
</div>
