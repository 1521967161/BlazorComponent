{"version":3,"sources":["node_modules/browser-pack/_prelude.js","Components/Core/JsInterop/interop.ts","Components/Core/JsInterop/modules/Caret.ts","Components/Core/JsInterop/modules/dragHelper.ts","main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","getDom","element","document","querySelector","body","getDomInfo","selector","arguments","undefined","result","dom","style","cloned","cloneNode","appendChild","getDomInfoObj","removeChild","offsetTop","offsetLeft","offsetWidth","offsetHeight","scrollHeight","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","clientHeight","clientWidth","position","res","Object","box","x","y","getBoundingClientRect","viewportElement","documentElement","relativeLeft","left","relativeTop","top","absoluteLeft","absoluteTop","getElementPos","Math","round","fileClickEvent","fileId","this","attributes","nodeValue","getElementById","click","getObjectURL","file","url","window","URL","createObjectURL","webkitURL","addDomEventListener","eventName","preventDefault","invoker","callback","args","k","obj","json","JSON","stringify","v","Node","Window","invokeMethodAsync","addEventListener","func","wait","immediate","timeout","_this","_arguments","context","callNow","clearTimeout","setTimeout","apply","debounce","innerWidth","innerHeight","slideTo","targetPageY","timer","setInterval","currentY","speed","ceil","clearInterval","scrollTo","getActiveElement","activeElement","getAttribute","css","name","key","hasOwnProperty","addCls","clsName","classList","add","_element$classList","_toConsumableArray","removeCls","remove","_element$classList2","addFileClickEventListener","btn","removeFileClickEventListener","removeEventListener","clearFile","setAttribute","value","getFileInfo","files","fileInfo","objectUrl","push","fileName","size","objectURL","type","uploadFile","index","data","headers","instance","percentMethod","successMethod","errorMethod","formData","FormData","append","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","upload","onprogress","event","percent","floor","loaded","onerror","open","header","setRequestHeader","send","triggerEvent","eventType","evt","createEvent","initEvent","dispatchEvent","getFirstChildBoundingClientRect","firstElementChild","matchMedia","query","matches","copy","text","navigator","clipboard","writeText","then","console","log","err","error","textArea","createElement","focus","select","msg","execCommand","fallbackCopyTextToClipboard","noScroll","HTMLElement","preventScroll","hasFocus","blur","backTop","target","scrollIntoView","behavior","block","inline","scrollToElement","container","dir","getFirstChildDomInfo","addClsToFirstChild","className","removeClsFromFirstChild","addDomEventListenerToFirstChild","getAbsoluteTop","offset","offsetParent","getAbsoluteLeft","addElementToBody","delElementFromBody","addElementTo","addElement","elementSelector","parent","delElementFrom","delElement","focusDialog","count","ele","hasAttribute","getWindow","elementScrollIntoView","oldBodyCacheStack","getTextAreaInfo","currentStyle","parseFloat","getComputedStyle","defaultView","getPropertyValue","is","NaN","disableBodyScroll","overflow","oldBodyCache","forEach","width","enableBodyScroll","pop","_a","_b","_c","destroyAllDialog","querySelectorAll","parentNode","createIconFromfontCN","scriptUrl","script","getScroll","pageXOffset","pageYOffset","getInnerText","innerText","getMaxZIndex","concat","all","reduce","max","zIndex","getStyle","styleProp","funcDict","disposeResizeTextArea","id","objReferenceDict","resizeTextArea","minRows","maxRows","dims","rowHeight","oldHeight","height","rows","trunc","newHeight","overflowY","registerResizeTextArea","objReference","disposeObj","objReferenceName","Caret_1","mentionsOnWindowClick","mentionsObj","getCursorXY","default","dragHelper_1","defineProperty","enumerable","get","disableDraggable","enableDraggable","resetModalPosition","bindTableHeaderAndBodyScroll","bodyRef","headerRef","bindScrollLeftToHeader","unbindTableHeaderAndBodyScroll","addPreventKeys","inputElement","keys","map","toUpperCase","indexOf","preventKeys","removePreventKeys","addPreventEnterOnOverlayVisible","overlayElement","check","preventKeyOnCondition","removePreventEnterOnOverlayVisible","insertAdjacentHTML","head","getImageDimensions","src","Promise","resolve","reject","img","Image","onload","InputCaret","inputor","_classCallCheck","getPos","domInputor","selectionStart","getPosition","pos","format","replace","test","userAgent","inputorValue","start_range","slice","end_range","html","Mirror","create","rect","getOffset","$mirror","AntDesign","interop","mirrorCss","innerHTML","parentElement","css_attr","flag","oRect","elem","throttle","fn","threshold","start","Date","_len","Array","_key","curTime","eventMap","Map","defaultOptions","inViewport","Dragger","_container","triggler","_triggler","options","_options","onMousedown","onMouseup","onMousemove","onResize","_style","_isFirst","dragInViewport","_this2","_state","state","isInDrag","mX","clientX","mY","clientY","_getContainerPos","getContainerPos","domMaxY","domMaxX","domStartX","domStartY","_getContainerPos2","newDomX","nowX","nowY","disX","disY","newDomY","margin","paddingBottom","bind","parseInt","assign","dragger","set","bindDrag","unbindDrag","resetContainerStyle","BlazorComponent"],"mappings":"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","file":"blazor-component.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿export function getDom(element) {\r\n    if (!element) {\r\n        element = document.body;\r\n    } else if (typeof element === 'string') {\r\n        if (element === 'document') {\r\n            return document;\r\n        }\r\n        element = document.querySelector(element);\r\n    }\r\n    return element;\r\n}\r\n\r\nexport function getDomInfo(element, selector = \"body\") {\r\n    var result = {};\r\n\r\n    var dom = getDom(element);\r\n\r\n    if (dom.style['display'] === 'none') {\r\n        // clone and set display not none becuase\r\n        // element with display:none can not get the dom info\r\n        var cloned = dom.cloneNode(true);\r\n        cloned.style['display'] = 'inline-block';\r\n        cloned.style['z-index'] = -1000;\r\n        document.querySelector(selector).appendChild(cloned);\r\n\r\n        result = getDomInfoObj(cloned);\r\n\r\n        document.querySelector(selector).removeChild(cloned);\r\n    }\r\n    else {\r\n\r\n        result = getDomInfoObj(dom);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction getDomInfoObj(dom) {\r\n    var result = {};\r\n    result[\"offsetTop\"] = dom.offsetTop || 0;\r\n    result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n    result[\"offsetWidth\"] = dom.offsetWidth || 0;\r\n    result[\"offsetHeight\"] = dom.offsetHeight || 0;\r\n    result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n    result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n    result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n    result[\"scrollTop\"] = dom.scrollTop || 0;\r\n    result[\"clientTop\"] = dom.clientTop || 0;\r\n    result[\"clientLeft\"] = dom.clientLeft || 0;\r\n    result[\"clientHeight\"] = dom.clientHeight || 0;\r\n    result[\"clientWidth\"] = dom.clientWidth || 0;\r\n    var position = getElementPos(dom);\r\n    result[\"relativeLeft\"] = Math.round(position.relativeLeft);\r\n    result[\"relativeTop\"] = Math.round(position.relativeTop);\r\n    result[\"absoluteLeft\"] = Math.round(position.absoluteLeft);\r\n    result[\"absoluteTop\"] = Math.round(position.absoluteTop);\r\n    return result;\r\n}\r\n\r\nfunction getElementPos(element) {\r\n    var res: any = new Object();\r\n    res.x = 0; res.y = 0;\r\n    if (element !== null) {\r\n        if (element.getBoundingClientRect) {\r\n            var viewportElement = document.documentElement;\r\n            var box = element.getBoundingClientRect();\r\n            var scrollLeft = viewportElement.scrollLeft;\r\n            var scrollTop = viewportElement.scrollTop;\r\n\r\n            res.relativeLeft = box.left;\r\n            res.relativeTop = box.top;\r\n            res.absoluteLeft = box.left + scrollLeft;\r\n            res.absoluteTop = box.top + scrollTop;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nexport function addFileClickEventListener(btn) {\r\n    if ((btn as HTMLElement).addEventListener) {\r\n        (btn as HTMLElement).addEventListener(\"click\", fileClickEvent);\r\n    }\r\n}\r\n\r\nexport function removeFileClickEventListener(btn) {\r\n    (btn as HTMLElement).removeEventListener(\"click\", fileClickEvent);\r\n}\r\n\r\nexport function fileClickEvent() {\r\n    var fileId = this.attributes[\"data-fileid\"].nodeValue;\r\n    var element = document.getElementById(fileId);\r\n    (element as HTMLInputElement).click();\r\n}\r\n\r\nexport function clearFile(element) {\r\n    element.setAttribute(\"type\", \"input\");\r\n    element.value = '';\r\n    element.setAttribute(\"type\", \"file\");\r\n}\r\n\r\nexport function getFileInfo(element) {\r\n    if (element.files && element.files.length > 0) {\r\n        var fileInfo = [];\r\n        for (var i = 0; i < element.files.length; i++) {\r\n            var file = element.files[i];\r\n            var objectUrl = getObjectURL(file);\r\n            fileInfo.push({\r\n                fileName: file.name,\r\n                size: file.size,\r\n                objectURL: objectUrl,\r\n                type: file.type\r\n            });\r\n        }\r\n\r\n        return fileInfo;\r\n    }\r\n}\r\n\r\nexport function getObjectURL(file: File) {\r\n    var url = null;\r\n    if (window.URL != undefined) {\r\n        url = window.URL.createObjectURL(file);\r\n    } else if (window.webkitURL != undefined) {\r\n        url = window.webkitURL.createObjectURL(file);\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function uploadFile(element, index, data, headers, fileId, url, name, instance, percentMethod, successMethod, errorMethod) {\r\n    let formData = new FormData();\r\n    var file = element.files[index];\r\n    var size = file.size;\r\n    formData.append(name, file);\r\n    if (data != null) {\r\n        for (var key in data) {\r\n            formData.append(key, data[key]);\r\n        }\r\n    }\r\n    const req = new XMLHttpRequest()\r\n    req.onreadystatechange = function () {\r\n        if (req.readyState === 4) {\r\n            if (req.status != 200) {\r\n                instance.invokeMethodAsync(errorMethod, fileId, `{\"status\": ${req.status}}`);\r\n                return;\r\n            }\r\n            instance.invokeMethodAsync(successMethod, fileId, req.responseText);\r\n        }\r\n    }\r\n    req.upload.onprogress = function (event) {\r\n        var percent = Math.floor(event.loaded / size * 100);\r\n        instance.invokeMethodAsync(percentMethod, fileId, percent);\r\n    }\r\n    req.onerror = function (e) {\r\n        instance.invokeMethodAsync(errorMethod, fileId, \"error\");\r\n    }\r\n    req.open('post', url, true)\r\n    if (headers != null) {\r\n        for (var header in headers) {\r\n            req.setRequestHeader(header, headers[header]);\r\n        }\r\n    }\r\n    req.send(formData)\r\n}\r\n\r\nexport function triggerEvent(element, eventType, eventName) {\r\n    var dom = element as HTMLInputElement;\r\n    var evt = document.createEvent(eventType);\r\n    evt.initEvent(eventName);\r\n    return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function getBoundingClientRect(element) {\r\n    let dom = getDom(element);\r\n    if (dom && dom.getBoundingClientRect) {\r\n        return dom.getBoundingClientRect();\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function getFirstChildBoundingClientRect(element, selector = \"body\") {\r\n    let dom = getDom(element);\r\n    if (dom.firstElementChild) {\r\n        if (dom.firstElementChild.style['display'] === 'none') {\r\n            // clone and set display not none becuase\r\n            // element with display:none can not getBoundingClientRect\r\n            var cloned = dom.firstElementChild.cloneNode(true);\r\n            cloned.style['display'] = 'inline-block'\r\n            cloned.style['z-index'] = -1000\r\n            document.querySelector(selector).appendChild(cloned);\r\n            var value = getBoundingClientRect(cloned);\r\n            document.querySelector(selector).removeChild(cloned);\r\n            return value;\r\n        }\r\n        else {\r\n            return getBoundingClientRect(dom.firstElementChild);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function addDomEventListener(element, eventName, preventDefault, invoker) {\r\n    let callback = args => {\r\n        const obj = {};\r\n        for (let k in args) {\r\n            if (k !== 'originalTarget') { //firefox occasionally raises Permission Denied when this property is being stringified\r\n                obj[k] = args[k];\r\n            }\r\n        }\r\n        let json = JSON.stringify(obj, (k, v) => {\r\n            if (v instanceof Node) return 'Node';\r\n            if (v instanceof Window) return 'Window';\r\n            return v;\r\n        }, ' ');\r\n        invoker.invokeMethodAsync('Invoke', json);\r\n        if (preventDefault === true) {\r\n            args.preventDefault();\r\n        }\r\n    };\r\n\r\n    if (element == 'window') {\r\n        if (eventName == 'resize') {\r\n            window.addEventListener(eventName, debounce(() => callback({ innerWidth: window.innerWidth, innerHeight: window.innerHeight }), 200, false));\r\n        } else {\r\n            window.addEventListener(eventName, callback);\r\n        }\r\n    } else {\r\n        let dom = getDom(element);\r\n        (dom as HTMLElement).addEventListener(eventName, callback);\r\n    }\r\n}\r\n\r\nexport function matchMedia(query) {\r\n    return window.matchMedia(query).matches;\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n        var successful = document.execCommand('copy');\r\n        var msg = successful ? 'successful' : 'unsuccessful';\r\n        console.log('Fallback: Copying text command was ' + msg);\r\n    } catch (err) {\r\n        console.error('Fallback: Oops, unable to copy', err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n}\r\nexport function copy(text) {\r\n    if (!navigator.clipboard) {\r\n        fallbackCopyTextToClipboard(text);\r\n        return;\r\n    }\r\n    navigator.clipboard.writeText(text).then(function () {\r\n        console.log('Async: Copying to clipboard was successful!');\r\n    }, function (err) {\r\n        console.error('Async: Could not copy text: ', err);\r\n    });\r\n}\r\n\r\nexport function focus(selector, noScroll: boolean = false) {\r\n    let dom = getDom(selector);\r\n    if (!(dom instanceof HTMLElement))\r\n        throw new Error(\"Unable to focus an invalid element.\");\r\n    dom.focus({\r\n        preventScroll: noScroll\r\n    })\r\n}\r\n\r\nexport function hasFocus(selector) {\r\n    let dom = getDom(selector);\r\n    return (document.activeElement === dom);\r\n}\r\n\r\nexport function blur(selector) {\r\n    let dom = getDom(selector);\r\n    dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n    console.log(text);\r\n}\r\n\r\nexport function backTop(target: string) {\r\n    let dom = getDom(target);\r\n    if (dom) {\r\n        slideTo(dom.scrollTop);\r\n    } else {\r\n        slideTo(0);\r\n    }\r\n}\r\n\r\nfunction slideTo(targetPageY) {\r\n    var timer = setInterval(function () {\r\n        var currentY = document.documentElement.scrollTop || document.body.scrollTop;\r\n        var distance = targetPageY > currentY ? targetPageY - currentY : currentY - targetPageY;\r\n        var speed = Math.ceil(distance / 10);\r\n        if (currentY == targetPageY) {\r\n            clearInterval(timer);\r\n        } else {\r\n            window.scrollTo(0, targetPageY > currentY ? currentY + speed : currentY - speed);\r\n        }\r\n    }, 10);\r\n}\r\n\r\nexport function scrollTo(target) {\r\n    let dom = getDom(target);\r\n    if (dom instanceof HTMLElement) {\r\n        dom.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"start\",\r\n            inline: \"nearest\"\r\n        });\r\n    }\r\n}\r\n\r\nexport function scrollToElement(container, target) {\r\n    let dom = getDom(container);\r\n    console.dir(dom);\r\n    let t: any = getDomInfo(target);\r\n    console.dir(t);\r\n    dom.scrollTop = t.offsetTop - dom.offsetHeight / 2 + t.offsetHeight / 2;\r\n    console.dir(dom);\r\n}\r\n\r\nexport function getFirstChildDomInfo(element, selector = \"body\") {\r\n    var dom = getDom(element);\r\n    if (dom.firstElementChild)\r\n        return getDomInfo(dom.firstElementChild, selector);\r\n    return getDomInfo(dom, selector);\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n    var dom = getDom(element);\r\n    if (dom.firstElementChild) {\r\n        dom.firstElementChild.classList.add(className);\r\n    }\r\n}\r\n\r\nexport function removeClsFromFirstChild(element, className) {\r\n    var dom = getDom(element);\r\n    if (dom.firstElementChild) {\r\n        dom.firstElementChild.classList.remove(className);\r\n    }\r\n}\r\n\r\nexport function addDomEventListenerToFirstChild(element, eventName, preventDefault, invoker) {\r\n    var dom = getDom(element);\r\n\r\n    if (dom.firstElementChild) {\r\n        addDomEventListener(dom.firstElementChild, eventName, preventDefault, invoker);\r\n    }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n    var offset = e.offsetTop;\r\n    if (e.offsetParent != null) {\r\n        offset += getAbsoluteTop(e.offsetParent);\r\n    }\r\n    return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n    var offset = e.offsetLeft;\r\n    if (e.offsetParent != null) {\r\n        offset += getAbsoluteLeft(e.offsetParent);\r\n    }\r\n    return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n    document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n    document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n    let parent = getDom(elementSelector);\r\n    if (parent && addElement) {\r\n        parent.appendChild(addElement);\r\n    }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n    let parent = getDom(elementSelector);\r\n    if (parent && delElement) {\r\n        parent.removeChild(delElement);\r\n    }\r\n}\r\n\r\nexport function getActiveElement() {\r\n    let element = document.activeElement;\r\n    let id = element.getAttribute(\"id\") || \"\";\r\n    return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n    let ele = <HTMLElement>document.querySelector(selector);\r\n    if (ele && !ele.hasAttribute(\"disabled\")) {\r\n        setTimeout(() => {\r\n            ele.focus();\r\n            let curId = \"#\" + getActiveElement();\r\n            if (curId !== selector) {\r\n                if (count < 10) {\r\n                    focusDialog(selector, count + 1);\r\n                }\r\n            }\r\n        }, 10);\r\n    }\r\n}\r\n\r\nexport function getWindow() {\r\n    return {\r\n        innerWidth: window.innerWidth,\r\n        innerHeight: window.innerHeight\r\n    };\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return () => {\r\n        const context = this, args = arguments;\r\n        const later = () => {\r\n            timeout = null;\r\n            if (!immediate) func.apply(this, args);\r\n        };\r\n        const callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n};\r\n\r\nexport function css(element: HTMLElement, name: string | object, value: string | null = null) {\r\n    if (typeof name === 'string') {\r\n        element.style[name] = value;\r\n    } else {\r\n        for (let key in name) {\r\n            if (name.hasOwnProperty(key)) {\r\n                element.style[key] = name[key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\r\n    let element = getDom(selector);\r\n\r\n    if (typeof clsName === \"string\") {\r\n        element.classList.add(clsName);\r\n    } else {\r\n        element.classList.add(...clsName);\r\n    }\r\n}\r\n\r\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\r\n    let element = getDom(selector);\r\n\r\n    if (typeof clsName === \"string\") {\r\n        element.classList.remove(clsName);\r\n    } else {\r\n        element.classList.remove(...clsName);\r\n    }\r\n}\r\n\r\nexport function elementScrollIntoView(selector: Element | string) {\r\n    let element = getDom(selector);\r\n\r\n    if (!element)\r\n        return;\r\n\r\n    element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n}\r\n\r\nconst oldBodyCacheStack = [];\r\n\r\nconst hasScrollbar = () => {\r\n    let overflow = document.body.style.overflow;\r\n    if (overflow && overflow === \"hidden\") return false;\r\n    return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nexport function disableBodyScroll() {\r\n    let body = document.body;\r\n    const oldBodyCache = {};\r\n    [\"position\", \"width\", \"overflow\"].forEach((key) => {\r\n        oldBodyCache[key] = body.style[key];\r\n    });\r\n    oldBodyCacheStack.push(oldBodyCache);\r\n    css(body,\r\n        {\r\n            \"position\": \"relative\",\r\n            \"width\": hasScrollbar() ? \"calc(100% - 17px)\" : null,\r\n            \"overflow\": \"hidden\"\r\n        });\r\n    addCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function enableBodyScroll() {\r\n    let oldBodyCache = oldBodyCacheStack.length > 0 ? oldBodyCacheStack.pop() : {};\r\n\r\n    css(document.body,\r\n        {\r\n            \"position\": oldBodyCache[\"position\"] ?? null,\r\n            \"width\": oldBodyCache[\"width\"] ?? null,\r\n            \"overflow\": oldBodyCache[\"overflow\"] ?? null\r\n        });\r\n    removeCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function destroyAllDialog() {\r\n    document.querySelectorAll('.ant-modal-root')\r\n        .forEach(e => document.body.removeChild(e.parentNode));\r\n}\r\n\r\nexport function createIconFromfontCN(scriptUrl) {\r\n    if (document.querySelector(`[data-namespace=\"${scriptUrl}\"]`)) {\r\n        return;\r\n    }\r\n    const script = document.createElement('script');\r\n    script.setAttribute('src', scriptUrl);\r\n    script.setAttribute('data-namespace', scriptUrl);\r\n    document.body.appendChild(script);\r\n}\r\n\r\nexport function getScroll() {\r\n    return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nexport function getInnerText(element) {\r\n    let dom = getDom(element);\r\n    return dom.innerText;\r\n}\r\n\r\nexport function getMaxZIndex() {\r\n    return [...document.all].reduce((r, e) => Math.max(r, +window.getComputedStyle(e).zIndex || 0), 0)\r\n}\r\n\r\nexport function getStyle(element, styleProp) {\r\n    if (element.currentStyle)\r\n        return element.currentStyle[styleProp];\r\n    else if (window.getComputedStyle)\r\n        return document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\r\n}\r\n\r\nexport function getTextAreaInfo(element) {\r\n    var result = {};\r\n    var dom = getDom(element);\r\n    result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n\r\n    if (element.currentStyle) {\r\n        result[\"lineHeight\"] = parseFloat(element.currentStyle[\"line-height\"]);\r\n        result[\"paddingTop\"] = parseFloat(element.currentStyle[\"padding-top\"]);\r\n        result[\"paddingBottom\"] = parseFloat(element.currentStyle[\"padding-bottom\"]);\r\n        result[\"borderBottom\"] = parseFloat(element.currentStyle[\"border-bottom\"]);\r\n        result[\"borderTop\"] = parseFloat(element.currentStyle[\"border-top\"]);\r\n    }\r\n    else if (window.getComputedStyle) {\r\n        result[\"lineHeight\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"line-height\"));\r\n        result[\"paddingTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-top\"));\r\n        result[\"paddingBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-bottom\"));\r\n        result[\"borderBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-bottom\"));\r\n        result[\"borderTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-top\"));\r\n    }\r\n    //Firefox can return this as NaN, so it has to be handled here like that.\r\n    if (Object.is(NaN, result[\"borderTop\"]))\r\n        result[\"borderTop\"] = 1;\r\n    if (Object.is(NaN, result[\"borderBottom\"]))\r\n        result[\"borderBottom\"] = 1;\r\n    return result;\r\n}\r\n\r\nconst funcDict = {};\r\n\r\nexport function registerResizeTextArea(element, minRows, maxRows, objReference) {\r\n    if (!objReference) {\r\n        disposeResizeTextArea(element);\r\n    }\r\n    else {\r\n        objReferenceDict[element.id] = objReference;\r\n        funcDict[element.id + \"input\"] = function () { resizeTextArea(element, minRows, maxRows); }\r\n        element.addEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n        return getTextAreaInfo(element);\r\n    }\r\n}\r\n\r\nexport function disposeResizeTextArea(element) {\r\n    element.removeEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n    objReferenceDict[element.id] = null;\r\n    funcDict[element.id + \"input\"] = null;\r\n\r\n}\r\n\r\nexport function resizeTextArea(element, minRows, maxRows) {\r\n    var dims = getTextAreaInfo(element);\r\n    var rowHeight = dims[\"lineHeight\"];\r\n    var offsetHeight = dims[\"paddingTop\"] + dims[\"paddingBottom\"] + dims[\"borderTop\"] + dims[\"borderBottom\"];\r\n    var oldHeight = parseFloat(element.style.height);\r\n    element.style.height = 'auto';\r\n\r\n    var rows = Math.trunc(element.scrollHeight / rowHeight);\r\n    rows = Math.max(minRows, rows);\r\n\r\n    var newHeight = 0;\r\n    if (rows > maxRows) {\r\n        rows = maxRows;\r\n\r\n        newHeight = (rows * rowHeight + offsetHeight);\r\n        element.style.height = newHeight + \"px\";\r\n        element.style.overflowY = \"visible\";\r\n    }\r\n    else {\r\n        newHeight = rows * rowHeight + offsetHeight;\r\n        element.style.height = newHeight + \"px\";\r\n        element.style.overflowY = \"hidden\";\r\n    }\r\n    if (oldHeight !== newHeight) {\r\n        let textAreaObj = objReferenceDict[element.id];\r\n        textAreaObj.invokeMethodAsync(\"ChangeSizeAsyncJs\", parseFloat(element.scrollWidth), newHeight);\r\n    }\r\n}\r\n\r\n\r\n\r\nconst objReferenceDict = {};\r\nexport function disposeObj(objReferenceName) {\r\n    delete objReferenceDict[objReferenceName];\r\n}\r\n\r\n//#region mentions\r\n\r\nimport getOffset from \"./modules/Caret\";\r\n\r\nexport function getCursorXY(element, objReference) {\r\n    objReferenceDict[\"mentions\"] = objReference;\r\n    window.addEventListener(\"click\", mentionsOnWindowClick);\r\n\r\n    var offset = getOffset(element);\r\n\r\n    return [offset.left, offset.top + offset.height + 14];\r\n}\r\n\r\nfunction mentionsOnWindowClick(e) {\r\n    let mentionsObj = objReferenceDict[\"mentions\"];\r\n    if (mentionsObj) {\r\n        mentionsObj.invokeMethodAsync(\"CloseMentionsDropDown\");\r\n    } else {\r\n        window.removeEventListener(\"click\", mentionsOnWindowClick);\r\n    }\r\n}\r\n\r\n//#endregion\r\n\r\nexport { disableDraggable, enableDraggable, resetModalPosition } from \"./modules/dragHelper\";\r\n\r\nexport function bindTableHeaderAndBodyScroll(bodyRef, headerRef) {\r\n    bodyRef.bindScrollLeftToHeader = () => {\r\n        headerRef.scrollLeft = bodyRef.scrollLeft;\r\n    }\r\n    bodyRef.addEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n}\r\n\r\nexport function unbindTableHeaderAndBodyScroll(bodyRef) {\r\n    if (bodyRef) {\r\n        bodyRef.removeEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n    }\r\n}\r\n\r\nfunction preventKeys(e, keys: string[]) {\r\n    if (keys.indexOf(e.key.toUpperCase()) !== -1) {\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function addPreventKeys(inputElement, keys: string[]) {\r\n    if (inputElement) {\r\n        let dom = getDom(inputElement);\r\n        keys = keys.map(function (x) { return x.toUpperCase(); })\r\n        funcDict[inputElement.id + \"keydown\"] = (e) => preventKeys(e, keys);\r\n        (dom as HTMLElement).addEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"], false);\r\n    }\r\n}\r\n\r\nexport function removePreventKeys(inputElement) {\r\n    if (inputElement) {\r\n        let dom = getDom(inputElement);\r\n        (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"]);\r\n        funcDict[inputElement.id + \"keydown\"] = null;\r\n    }\r\n}\r\n\r\nfunction preventKeyOnCondition(e, key: string, check: () => boolean) {\r\n    if (e.key.toUpperCase() === key.toUpperCase() && check()) {\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function addPreventEnterOnOverlayVisible(element, overlayElement) {\r\n    if (element && overlayElement) {\r\n        let dom = getDom(element);\r\n        funcDict[element.id + \"keydown:Enter\"] = (e) => preventKeyOnCondition(e, \"enter\", () => overlayElement.offsetParent !== null);\r\n        (dom as HTMLElement).addEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"], false);\r\n    }\r\n}\r\n\r\nexport function removePreventEnterOnOverlayVisible(element) {\r\n    if (element) {\r\n        let dom = getDom(element);\r\n        (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"]);\r\n        funcDict[element.id + \"keydown:Enter\"] = null;\r\n    }\r\n}\r\n\r\nexport function insertAdjacentHTML(position, text: string) {\r\n    document.head.insertAdjacentHTML(position, text);\r\n}\r\n\r\nexport function getImageDimensions(src: string) {\r\n    return new Promise(function (resolve, reject) {\r\n        var img = new Image()\r\n        img.src = src\r\n        img.onload = function () {\r\n            resolve({\r\n                width: img.width,\r\n                height: img.height\r\n            })\r\n        }\r\n        img.onerror = function () {\r\n            reject({\r\n                width: 0,\r\n                height: 0\r\n            })\r\n        }\r\n    })\r\n}","﻿//extract from https://github.com/ichord/Caret.js\r\n\r\nclass InputCaret {\r\n    domInputor: any;\r\n\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n    }\r\n\r\n    getPos = function () {\r\n        return this.domInputor.selectionStart;\r\n    };\r\n\r\n    getPosition = function (pos) {\r\n        var domInputor, end_range, format, html, mirror, start_range;\r\n        domInputor = this.domInputor;\r\n\r\n        format = function (value) {\r\n            value = value.replace(/<|>|`|\"|&/g, '?').replace(/\\r\\n|\\r|\\n/g, \"<br/>\");\r\n            if (/firefox/i.test(navigator.userAgent)) {\r\n                value = value.replace(/\\s/g, '&nbsp;');\r\n            }\r\n            return value;\r\n        };\r\n        if (!pos) {\r\n            pos = this.getPos();\r\n        }\r\n        let inputorValue = domInputor.value;\r\n        start_range = inputorValue.slice(0, pos);\r\n        end_range = inputorValue.slice(pos);\r\n        html = \"<span style='position: relative; display: inline;'>\" + format(start_range) + \"</span>\";\r\n        html += \"<span id='caret' style='position: relative; display: inline;'>|</span>\";\r\n        html += \"<span style='position: relative; display: inline;'>\" + format(end_range) + \"</span>\";\r\n        mirror = new Mirror(domInputor);\r\n        return mirror.create(html).rect();\r\n    };\r\n\r\n    getOffset = function (pos = null) {\r\n        var offset, position, domInputor;\r\n        domInputor = this.domInputor;\r\n\r\n        var rect = domInputor.getBoundingClientRect();\r\n\r\n        offset = {\r\n            left: rect.left,\r\n            top: rect.top\r\n        };\r\n     \r\n        position = this.getPosition(pos);\r\n        return offset = {\r\n            left: offset.left + position.left - domInputor.scrollLeft, \r\n            top: offset.top + position.top - domInputor.scrollTop, \r\n            height: position.height\r\n        };\r\n    };\r\n\r\n}\r\n\r\nclass Mirror {\r\n    domInputor: any;\r\n    css_attr: any;\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n        this.css_attr = [];\r\n    }\r\n\r\n    create = function (html) {\r\n        this.$mirror = document.createElement(\"div\");\r\n\r\n        (<any>window).AntDesign.interop.css(this.$mirror, this.mirrorCss());\r\n\r\n        this.$mirror.innerHTML = html;\r\n        this.domInputor.parentElement.append(this.$mirror);\r\n\r\n        return this;\r\n    };\r\n\r\n    mirrorCss = function () {\r\n        var css, _this = this;\r\n        css = {\r\n            position: 'absolute',\r\n            left: -9999,\r\n            top: 0,\r\n            zIndex: -20000\r\n        };\r\n\r\n        this.css_attr.push('width');\r\n\r\n        this.css_attr.forEach((p) => {\r\n            return css[p] = _this.domInputor.style[p]//_this.$inputor.css(p);\r\n        })\r\n        \r\n        return css;\r\n    };\r\n\r\n    rect = function () {\r\n        var flag, pos, rect;\r\n        flag = this.$mirror.querySelector(\"#caret\");\r\n        var oRect = flag.getBoundingClientRect();\r\n\r\n        pos = {\r\n            left: flag.offsetLeft,\r\n            top: flag.offsetTop\r\n        }; //$flag.position();\r\n\r\n        rect = {\r\n            left: pos.left,\r\n            top: pos.top,\r\n            height: oRect.height\r\n        };\r\n\r\n        this.$mirror.parentElement.removeChild(this.$mirror)\r\n        return rect;\r\n    };\r\n\r\n}\r\n\r\nfunction getOffset(elem) {\r\n    return (new InputCaret(elem)).getOffset();\r\n}\r\n\r\nexport default getOffset;","﻿\r\nconst throttle = (fn, threshold = 160) => {\r\n    let timeout;\r\n    var start = +new Date;\r\n    return function (...args) {\r\n        let context = this, curTime = +new Date() - 0;\r\n        //总是干掉事件回调\r\n        window.clearTimeout(timeout);\r\n        if (curTime - start >= threshold) {\r\n            //只执行一部分方法，这些方法是在某个时间段内执行一次\r\n            fn.apply(context, args);\r\n            start = curTime;\r\n        }\r\n        else {\r\n            //让方法在脱离事件后也能执行一次\r\n            timeout = window.setTimeout(() => {\r\n                //@ts-ignore\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        }\r\n    };\r\n}\r\n\r\nconst eventMap = new Map<HTMLElement, Dragger>();\r\n\r\nconst defaultOptions = {\r\n    inViewport: true\r\n}\r\n\r\nclass Dragger {\r\n\r\n    private _triggler: HTMLElement = null;\r\n    private _container: HTMLElement = null;\r\n    private _options: any = null;\r\n    private _state: any = null;\r\n    private _isFirst: boolean = true;\r\n    private _style: string = null;\r\n\r\n    constructor(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean) {\r\n        this._triggler = triggler;\r\n        this._container = container;\r\n        this._options = Object.assign({}, defaultOptions, {\r\n            inViewport: dragInViewport\r\n        });\r\n        this._state = {\r\n            isInDrag: false,\r\n            mX: 0, // mouse x\r\n            mY: 0, // mouse y\r\n            domStartX: 0, // on mousedown, the mouse x\r\n            domStartY: 0, // on mousedown, the mouse y            \r\n        }\r\n    }\r\n\r\n    getContainerPos() {\r\n        const rect = this._container.getBoundingClientRect();\r\n        return {\r\n            left: rect.left,\r\n            top: rect.top\r\n        }\r\n    }\r\n\r\n    onMousedown = (e) => {\r\n        const state = this._state;\r\n        state.isInDrag = true;\r\n        state.mX = e.clientX;\r\n        state.mY = e.clientY;\r\n        this._container.style.position = \"absolute\";\r\n        const { left, top } = this.getContainerPos();\r\n\r\n        if (this._isFirst) {\r\n\r\n            state.domMaxY = document.documentElement.clientHeight\r\n                - this._container.offsetHeight - 1;\r\n            state.domMaxX = document.documentElement.clientWidth\r\n                - this._container.offsetWidth - 1;\r\n\r\n            this._container.style.left = left + 'px';\r\n            this._container.style.top = top + 'px';\r\n\r\n            if (!this._style) {\r\n                this._style = this._container.getAttribute(\"style\");\r\n            }\r\n\r\n            this._isFirst = false;\r\n        }\r\n\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMouseup = (e) => {\r\n        const state = this._state;\r\n\r\n        state.isInDrag = false;\r\n\r\n        const { left, top } = this.getContainerPos();\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMousemove = throttle((e) => {\r\n        const state = this._state;\r\n        if (state.isInDrag) {\r\n            var nowX = e.clientX,\r\n                nowY = e.clientY,\r\n                disX = nowX - state.mX,\r\n                disY = nowY - state.mY;\r\n\r\n            var newDomX = state.domStartX + disX;\r\n            var newDomY = state.domStartY + disY;\r\n            if (this._options.inViewport) {\r\n                if (newDomX < 0) {\r\n                    newDomX = 0;\r\n                }\r\n                else if (newDomX > state.domMaxX) {\r\n                    newDomX = state.domMaxX;\r\n                }\r\n                if (newDomY < 0) {\r\n                    newDomY = 0;\r\n                }\r\n                else if (newDomY > state.domMaxY) {\r\n                    newDomY = state.domMaxY;\r\n                }\r\n            }\r\n            this._container.style.position = \"absolute\";\r\n            this._container.style.margin = \"0\";\r\n            this._container.style.paddingBottom = \"0\";\r\n            this._container.style.left = newDomX + \"px\";\r\n            this._container.style.top = newDomY + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    onResize = throttle((e) => {\r\n        const state = this._state;\r\n\r\n        state.domMaxY = document.documentElement.clientHeight\r\n            - this._container.offsetHeight - 1;\r\n        state.domMaxX = document.documentElement.clientWidth\r\n            - this._container.offsetWidth - 1;\r\n        state.domStartY = parseInt(this._container.style.top);\r\n        state.domStartX = parseInt(this._container.style.left);\r\n        if (state.domStartY > state.domMaxY) {\r\n            if (state.domMaxY > 0) {\r\n                this._container.style.top = state.domMaxY + \"px\";\r\n            }\r\n        }\r\n        if (state.domStartX > state.domMaxX) {\r\n            this._container.style.left = state.domMaxX + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    bindDrag() {\r\n        const triggler = this._triggler;\r\n        const options = this._options;\r\n\r\n        triggler.addEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.addEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.addEventListener(\"mousemove\", this.onMousemove);\r\n        if (options.inViewport) {\r\n            window.addEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    unbindDrag() {\r\n        const triggler = this._triggler;\r\n\r\n        triggler.removeEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.removeEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.removeEventListener(\"mousemove\", this.onMousemove);\r\n        if (this._options.inViewport) {\r\n            window.removeEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    resetContainerStyle() {\r\n        if (this._style !== null) {\r\n            this._isFirst = true;\r\n            this._container.setAttribute(\"style\", this._style);\r\n        }\r\n    }\r\n}\r\n\r\nfunction enableDraggable(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean = true) {\r\n    let dragger = eventMap.get(triggler);\r\n    if (!dragger) {\r\n        dragger = new Dragger(triggler, container, dragInViewport);\r\n        eventMap.set(triggler, dragger);\r\n    } \r\n    dragger.bindDrag();\r\n}\r\n\r\nfunction disableDraggable(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.unbindDrag();\r\n    }\r\n}\r\n\r\nfunction resetModalPosition(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.resetContainerStyle();\r\n    }\r\n}\r\n\r\nexport { enableDraggable, disableDraggable, resetModalPosition };","﻿import * as interop from \"./Components/Core/JsInterop/interop\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        BlazorComponent: any;\r\n    }\r\n}\r\n\r\nwindow.BlazorComponent = {\r\n    interop,\r\n};\r\n"]}