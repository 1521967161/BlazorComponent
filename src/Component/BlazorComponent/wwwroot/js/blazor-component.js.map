{"version":3,"sources":["node_modules/browser-pack/_prelude.js","main.ts","src/directive/index.ts","src/directive/ripple.ts","src/interop.ts","src/modules/Caret.ts","src/modules/dragHelper.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","interop","window","BlazorComponent","ripple_1","default","MutationObserver","mutationsList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","target","mutation","value","type","_bind","attributes","addEventListener","rippleShow","rippleHide","nodeName","rippleEls","document","querySelectorAll","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","el","err","return","attributeName","removeEventListener","observe","subtree","childList","attributeFilter","transform","style","webkitTransform","opacity","toString","ripples","container","createElement","animation","appendChild","className","offset","localY","_calculate","getBoundingClientRect","localX","clientX","left","clientY","top","radius","Math","sqrt","pow","clientWidth","clientHeight","scale","x","y","centerX","centerY","size","width","height","computed","getComputedStyle","position","dataset","previousPosition","classList","add","activated","String","performance","now","setTimeout","remove","getElementsByClassName","isHiding","diff","Number","delay","max","parentNode","removeChild","currentTarget","index_1","getZIndex","nodeType","Node","ELEMENT_NODE","index","getPropertyValue","onTransition","isActive","element","propertyName","getDom","documentElement","indexOf","array","split","querySelector","body","getDomInfo","selector","arguments","result","dom","cloned","cloneNode","getDomInfoObj","offsetTop","offsetLeft","scrollHeight","scrollWidth","scrollLeft","scrollTop","clientTop","clientLeft","res","Object","box","viewportElement","offsetWidth","offsetHeight","relativeTop","relativeBottom","bottom","relativeLeft","relativeRight","right","absoluteLeft","absoluteTop","getElementPos","round","fileClickEvent","fileId","this","nodeValue","getElementById","click","getObjectURL","file","url","URL","createObjectURL","webkitURL","attach","_a","_b","addDomEventListener","eventName","preventDefault","invoker","callback","args","k","obj","json","JSON","stringify","v","Window","invokeMethodAsync","debounce","innerWidth","innerHeight","htmlElement","addStepperEventListener","removeStepperEventListener","initStepperWrapper","contains","display","requestAnimationFrame","enter","leave","addFileClickEventListener","btn","removeFileClickEventListener","clearFile","setAttribute","getFileInfo","files","fileInfo","objectUrl","push","fileName","name","objectURL","uploadFile","data","headers","instance","percentMethod","successMethod","errorMethod","formData","FormData","append","key","req","XMLHttpRequest","onreadystatechange","readyState","status","responseText","upload","onprogress","event","percent","floor","loaded","onerror","open","header","setRequestHeader","send","triggerEvent","eventType","stopPropagation","evt","createEvent","initEvent","dispatchEvent","setProperty","getFirstChildBoundingClientRect","firstElementChild","outsideClickListenerCaches","addOutsideClickEventListener","insideSelectors","listener","some","s","capture","join","removeOutsideClickEventListener","addMouseleaveEventListener","htmlElementEventListennerConfigs","slideTo","targetPageY","timer","setInterval","currentY","speed","ceil","clearInterval","scrollTo","getActiveElement","activeElement","getAttribute","func","wait","immediate","timeout","_this","_arguments","context","callNow","clearTimeout","apply","css","hasOwnProperty","addCls","clsName","_element$classList","_toConsumableArray","removeCls","_element$classList2","addHtmlElementEventListener","options","actions","config","relatedTarget","attr","removeHtmlElementEventListener","configs","forEach","item","matchMedia","query","matches","copy","text","navigator","clipboard","writeText","then","console","log","error","textArea","focus","select","msg","execCommand","fallbackCopyTextToClipboard","noScroll","HTMLElement","preventScroll","hasFocus","blur","backTop","scrollIntoView","behavior","block","inline","scrollToActiveElement","scrollToPosition","getFirstChildDomInfo","addClsToFirstChild","removeClsFromFirstChild","addDomEventListenerToFirstChild","getAbsoluteTop","offsetParent","getAbsoluteLeft","addElementToBody","delElementFromBody","addElementTo","addElement","elementSelector","parent","delElementFrom","delElement","focusDialog","count","ele","hasAttribute","getWindow","pageXOffset","pageYOffset","isTop","scrollY","isBottom","elementScrollIntoView","oldBodyCacheStack","getTextAreaInfo","currentStyle","parseFloat","defaultView","is","NaN","disableBodyScroll","overflow","oldBodyCache","enableBodyScroll","pop","_c","destroyAllDialog","createIconFromfontCN","scriptUrl","script","getScroll","getInnerText","innerText","getMenuOrDialogMaxZIndex","exclude","zis","activeElements","concat","includes","getMaxZIndex","all","reduce","zIndex","getStyle","styleProp","funcDict","disposeResizeTextArea","id","objReferenceDict","resizeTextArea","minRows","maxRows","dims","rowHeight","oldHeight","rows","trunc","newHeight","overflowY","registerResizeTextArea","objReference","disposeObj","objReferenceName","Caret_1","mentionsOnWindowClick","mentionsObj","getCursorXY","dragHelper_1","registerCustomEvent","Blazor","registerCustomEventType","browserEventName","createEventArgs","defineProperty","enumerable","get","disableDraggable","enableDraggable","resetModalPosition","bindTableHeaderAndBodyScroll","bodyRef","headerRef","bindScrollLeftToHeader","unbindTableHeaderAndBodyScroll","addPreventKeys","inputElement","keys","map","toUpperCase","preventKeys","removePreventKeys","addPreventEnterOnOverlayVisible","overlayElement","check","preventKeyOnCondition","removePreventEnterOnOverlayVisible","insertAdjacentHTML","head","getImageDimensions","src","Promise","resolve","reject","img","Image","onload","hasError","preventDefaultOnArrowUpDown","observer","ResizeObserver","entries","dimensions","dimension","contentRect","getBoundingClientRects","elements","rect","getSize","selectors","sizeProp","getProp","updateWindowTransition","itemEl","getScrollHeightWithoutHeight","insertToFirst","parentElement","insertBefore","firstChild","isMobile","test","userAgent","substr","checkElementFixed","InputCaret","inputor","_classCallCheck","getPos","domInputor","selectionStart","getPosition","pos","format","replace","inputorValue","start_range","slice","end_range","html","Mirror","create","getOffset","$mirror","AntDesign","mirrorCss","innerHTML","css_attr","flag","oRect","elem","throttle","fn","threshold","start","Date","_len","Array","_key","curTime","eventMap","Map","defaultOptions","inViewport","Dragger","_container","triggler","_triggler","_options","onMousedown","onMouseup","onMousemove","onResize","_style","_isFirst","dragInViewport","_this2","_state","state","isInDrag","mX","mY","_getContainerPos","getContainerPos","domMaxY","domMaxX","domStartX","domStartY","_getContainerPos2","newDomX","nowX","nowY","disX","disY","newDomY","margin","paddingBottom","bind","parseInt","assign","dragger","set","bindDrag","unbindDrag","resetContainerStyle"],"mappings":"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","file":"blazor-component.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","﻿import * as interop from \"./src/interop\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        BlazorComponent: any;\r\n    }\r\n}\r\n\r\nwindow.BlazorComponent = {\r\n    interop,\r\n};\r\n","import { rippleShow, rippleHide } from \"./ripple\";\r\n\r\nexport default function registerDirective() {\r\n    var observer = new MutationObserver(function (mutationsList) {\r\n        for (let mutation of mutationsList) {\r\n            if (mutation.type === 'childList') {\r\n                var target: any = mutation.target;\r\n                //ripple\r\n                if (!target._bind && target.attributes['ripple']) {\r\n\r\n                    target.addEventListener('mousedown', rippleShow)\r\n                    target.addEventListener('mouseup', rippleHide)\r\n                    target.addEventListener('mouseleave', rippleHide)\r\n\r\n                    target._bind = true;\r\n                }\r\n                else if (target.nodeName == 'BODY') {\r\n                    var rippleEls = document.querySelectorAll('[ripple]');\r\n                    for (let rippleEl of rippleEls) {\r\n                        var el: any = rippleEl;\r\n                        if (!el._bind) {\r\n                            el.addEventListener('mousedown', rippleShow)\r\n                            el.addEventListener('mouseup', rippleHide)\r\n                            el.addEventListener('mouseleave', rippleHide)\r\n\r\n                            el._bind = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else if (mutation.type === 'attributes') {\r\n                //ripple\r\n                if (mutation.attributeName == 'ripple') {\r\n                    var target: any = mutation.target;\r\n                    if (target.attributes['ripple']) {\r\n                        target.addEventListener('mousedown', rippleShow)\r\n                        target.addEventListener('mouseup', rippleHide)\r\n                        target.addEventListener('mouseleave', rippleHide)\r\n                    }\r\n                    else {\r\n                        target.removeEventListener('mousedown', rippleShow)\r\n                        target.removeEventListener('mouseup', rippleHide)\r\n                        target.removeEventListener('mouseleave', rippleHide)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    observer.observe(document, { attributes: true, subtree: true, childList: true, attributeFilter: ['ripple'] });\r\n}","const calculate = (\r\n    e,\r\n    el\r\n) => {\r\n    let localX = 0\r\n    let localY = 0\r\n\r\n    const offset = el.getBoundingClientRect()\r\n    const target = e\r\n\r\n    localX = target.clientX - offset.left\r\n    localY = target.clientY - offset.top\r\n\r\n    let radius = 0\r\n    let scale = 0.3\r\n\r\n    radius = Math.sqrt(el.clientWidth ** 2 + el.clientHeight ** 2) / 2\r\n\r\n    const centerX = `${(el.clientWidth - (radius * 2)) / 2}px`\r\n    const centerY = `${(el.clientHeight - (radius * 2)) / 2}px`\r\n\r\n    const x = `${localX - radius}px`\r\n    const y = `${localY - radius}px`\r\n\r\n    return { radius, scale, x, y, centerX, centerY }\r\n}\r\n\r\nfunction transform(el, value) {\r\n    el.style.transform = value\r\n    el.style.webkitTransform = value\r\n}\r\n\r\nfunction opacity(el, value) {\r\n    el.style.opacity = value.toString()\r\n}\r\n\r\nconst ripples = {\r\n    /* eslint-disable max-statements */\r\n    show(\r\n        e,\r\n        el\r\n    ) {\r\n\r\n        const container = document.createElement('span')\r\n        const animation = document.createElement('span')\r\n\r\n        container.appendChild(animation)\r\n        container.className = 'm-ripple__container'\r\n\r\n        const { radius, scale, x, y, centerX, centerY } = calculate(e, el)\r\n\r\n        const size = `${radius * 2}px`\r\n        animation.className = 'm-ripple__animation'\r\n        animation.style.width = size\r\n        animation.style.height = size\r\n\r\n        el.appendChild(container)\r\n\r\n        const computed = window.getComputedStyle(el)\r\n        if (computed && computed.position === 'static') {\r\n            el.style.position = 'relative'\r\n            el.dataset.previousPosition = 'static'\r\n        }\r\n\r\n        animation.classList.add('m-ripple__animation--enter')\r\n        animation.classList.add('m-ripple__animation--visible')\r\n        transform(animation, `translate(${x}, ${y}) scale3d(${scale},${scale},${scale})`)\r\n        opacity(animation, 0)\r\n        animation.dataset.activated = String(performance.now())\r\n\r\n        setTimeout(() => {\r\n            animation.classList.remove('m-ripple__animation--enter')\r\n            animation.classList.add('m-ripple__animation--in')\r\n            transform(animation, `translate(${centerX}, ${centerY}) scale3d(1,1,1)`)\r\n            opacity(animation, 0.25)\r\n        }, 0)\r\n    },\r\n\r\n    hide(el) {\r\n\r\n        const ripples = el.getElementsByClassName('m-ripple__animation')\r\n\r\n        if (ripples.length === 0) return\r\n        const animation = ripples[ripples.length - 1]\r\n\r\n        if (animation.dataset.isHiding) return\r\n        else animation.dataset.isHiding = 'true'\r\n\r\n        const diff = performance.now() - Number(animation.dataset.activated)\r\n        const delay = Math.max(250 - diff, 0)\r\n\r\n        setTimeout(() => {\r\n            animation.classList.remove('m-ripple__animation--in')\r\n            animation.classList.add('m-ripple__animation--out')\r\n            opacity(animation, 0)\r\n\r\n            setTimeout(() => {\r\n                const ripples = el.getElementsByClassName('m-ripple__animation')\r\n                if (ripples.length === 1 && el.dataset.previousPosition) {\r\n                    el.style.position = el.dataset.previousPosition\r\n                    delete el.dataset.previousPosition\r\n                }\r\n\r\n                animation.parentNode && el.removeChild(animation.parentNode)\r\n            }, 300)\r\n        }, delay)\r\n    },\r\n}\r\n\r\nexport function rippleShow(e) {\r\n    ripples.show(e, e.currentTarget);\r\n}\r\n\r\nexport function rippleHide(e) {\r\n    ripples.hide(e.currentTarget);\r\n}","﻿import registerDirective from './directive/index'\r\n\r\nexport function getZIndex(el?: Element | null): number {\r\n    if (!el || el.nodeType !== Node.ELEMENT_NODE) return 0\r\n\r\n    const index = +window.getComputedStyle(el).getPropertyValue('z-index')\r\n\r\n    if (!index) return getZIndex(el.parentNode as Element)\r\n    return index\r\n}\r\n\r\nexport function addStepperEventListener(element: HTMLElement, isActive: Boolean) {\r\n    element.addEventListener(\r\n        'transitionend',\r\n        e => onTransition(e, isActive, element),\r\n        false\r\n    );\r\n}\r\n\r\nexport function removeStepperEventListener(element: HTMLElement, isActive: Boolean) {\r\n    element.removeEventListener(\r\n        'transitionend',\r\n        e => onTransition(e, isActive, element),\r\n        false\r\n    );\r\n}\r\n\r\nexport function initStepperWrapper(element: HTMLElement) {\r\n    if (!element.classList.contains('active')) {\r\n        element.style.display='none';\r\n    }\r\n\r\n    var observer = new MutationObserver(function (mutationsList) {\r\n        for (let mutation of mutationsList) {\r\n            if (mutation.type === 'attributes') {\r\n                if (mutation.attributeName == 'class') {\r\n                    var target: HTMLElement = mutation.target as HTMLElement;\r\n                    if (target.classList.contains('active')) {\r\n                        target.style.display='';\r\n                        enter(target,true);\r\n                    }\r\n                    else{\r\n                        leave(target);\r\n                        setTimeout(() => {\r\n                            target.style.display='none';\r\n                        }, 300);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    observer.observe(element, { attributes: true, attributeFilter: ['class'] });\r\n}\r\n\r\nfunction onTransition(e: TransitionEvent, isActive: Boolean, element: HTMLElement) {\r\n    if (!isActive ||\r\n        e.propertyName !== 'height'\r\n    ) return\r\n\r\n    element.style.height = 'auto';\r\n}\r\n\r\nfunction enter(element: HTMLElement, isActive: Boolean) {\r\n    let scrollHeight = 0\r\n\r\n    // Render bug with height\r\n    requestAnimationFrame(() => {\r\n        scrollHeight = element.scrollHeight;\r\n    });\r\n\r\n    element.style.height = 0 + 'px';\r\n    // Give the collapsing element time to collapse\r\n    setTimeout(() => isActive && (element.style.height = (scrollHeight + 'px' || 'auto')), 450)\r\n}\r\n\r\nfunction leave(element: HTMLElement) {\r\n    element.style.height = element.clientHeight + 'px';\r\n    setTimeout(() => {\r\n        element.style.height = 0 + 'px';\r\n    }, 10)\r\n}\r\n\r\nexport function getDom(element) {\r\n    if (!element) {\r\n        element = document.body;\r\n    } else if (typeof element === 'string') {\r\n        if (element === 'document') {\r\n            return document.documentElement;\r\n        } else if (element.indexOf('.') > 0) {\r\n            let array = element.split('.');\r\n            let el = document.querySelector(array[0]);\r\n            if (!el) {\r\n                return null;\r\n            }\r\n\r\n            element = el[array[1]];\r\n        } else {\r\n            element = document.querySelector(element);\r\n        }\r\n    }\r\n    return element;\r\n}\r\n\r\nexport function getDomInfo(element, selector = \"body\") {\r\n    var result = {};\r\n\r\n    var dom = getDom(element);\r\n\r\n    if (dom) {\r\n        if (dom.style && dom.style['display'] === 'none') {\r\n            // clone and set display not none becuase\r\n            // element with display:none can not get the dom info\r\n            var cloned = dom.cloneNode(true);\r\n            cloned.style['display'] = 'inline-block';\r\n            cloned.style['z-index'] = -1000;\r\n            document.querySelector(selector).appendChild(cloned);\r\n\r\n            result = getDomInfoObj(cloned);\r\n\r\n            document.querySelector(selector).removeChild(cloned);\r\n        } else {\r\n            result = getDomInfoObj(dom);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction getDomInfoObj(dom) {\r\n    var result = {};\r\n    result[\"offsetTop\"] = dom.offsetTop || 0;\r\n    result[\"offsetLeft\"] = dom.offsetLeft || 0;\r\n    result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n    result[\"scrollWidth\"] = dom.scrollWidth || 0;\r\n    result[\"scrollLeft\"] = dom.scrollLeft || 0;\r\n    result[\"scrollTop\"] = dom.scrollTop || 0;\r\n    result[\"clientTop\"] = dom.clientTop || 0;\r\n    result[\"clientLeft\"] = dom.clientLeft || 0;\r\n    result[\"clientHeight\"] = dom.clientHeight || 0;\r\n    result[\"clientWidth\"] = dom.clientWidth || 0;\r\n    var position = getElementPos(dom);\r\n    result[\"offsetWidth\"] = Math.round(position.offsetWidth) || 0;\r\n    result[\"offsetHeight\"] = Math.round(position.offsetHeight) || 0;\r\n    result[\"relativeTop\"] = Math.round(position.relativeTop) || 0;\r\n    result[\"relativeBottom\"] = Math.round(position.relativeBottom) || 0;\r\n    result[\"relativeLeft\"] = Math.round(position.relativeLeft) || 0;\r\n    result[\"relativeRight\"] = Math.round(position.relativeRight) || 0;\r\n    result[\"absoluteLeft\"] = Math.round(position.absoluteLeft) || 0;\r\n    result[\"absoluteTop\"] = Math.round(position.absoluteTop) || 0;\r\n    return result;\r\n}\r\n\r\nfunction getElementPos(element) {\r\n    var res: any = new Object();\r\n    res.x = 0;\r\n    res.y = 0;\r\n    if (element !== null) {\r\n        if (element.getBoundingClientRect) {\r\n            var viewportElement = document.documentElement;\r\n            var box = element.getBoundingClientRect();\r\n            var scrollLeft = viewportElement.scrollLeft;\r\n            var scrollTop = viewportElement.scrollTop;\r\n\r\n            res.offsetWidth = box.width;\r\n            res.offsetHeight = box.height;\r\n            res.relativeTop = box.top;\r\n            res.relativeBottom = box.bottom;\r\n            res.relativeLeft = box.left;\r\n            res.relativeRight = box.right;\r\n            res.absoluteLeft = box.left + scrollLeft;\r\n            res.absoluteTop = box.top + scrollTop;\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nexport function addFileClickEventListener(btn) {\r\n    if ((btn as HTMLElement).addEventListener) {\r\n        (btn as HTMLElement).addEventListener(\"click\", fileClickEvent);\r\n    }\r\n}\r\n\r\nexport function removeFileClickEventListener(btn) {\r\n    (btn as HTMLElement).removeEventListener(\"click\", fileClickEvent);\r\n}\r\n\r\nexport function fileClickEvent() {\r\n    var fileId = this.attributes[\"data-fileid\"].nodeValue;\r\n    var element = document.getElementById(fileId);\r\n    (element as HTMLInputElement).click();\r\n}\r\n\r\nexport function clearFile(element) {\r\n    element.setAttribute(\"type\", \"input\");\r\n    element.value = '';\r\n    element.setAttribute(\"type\", \"file\");\r\n}\r\n\r\nexport function getFileInfo(element) {\r\n    if (element.files && element.files.length > 0) {\r\n        var fileInfo = [];\r\n        for (var i = 0; i < element.files.length; i++) {\r\n            var file = element.files[i];\r\n            var objectUrl = getObjectURL(file);\r\n            fileInfo.push({\r\n                fileName: file.name,\r\n                size: file.size,\r\n                objectURL: objectUrl,\r\n                type: file.type\r\n            });\r\n        }\r\n\r\n        return fileInfo;\r\n    }\r\n}\r\n\r\nexport function getObjectURL(file: File) {\r\n    var url = null;\r\n    if (window.URL != undefined) {\r\n        url = window.URL.createObjectURL(file);\r\n    } else if (window.webkitURL != undefined) {\r\n        url = window.webkitURL.createObjectURL(file);\r\n    }\r\n    return url;\r\n}\r\n\r\nexport function uploadFile(element, index, data, headers, fileId, url, name, instance, percentMethod, successMethod, errorMethod) {\r\n    let formData = new FormData();\r\n    var file = element.files[index];\r\n    var size = file.size;\r\n    formData.append(name, file);\r\n    if (data != null) {\r\n        for (var key in data) {\r\n            formData.append(key, data[key]);\r\n        }\r\n    }\r\n    const req = new XMLHttpRequest()\r\n    req.onreadystatechange = function () {\r\n        if (req.readyState === 4) {\r\n            if (req.status != 200) {\r\n                instance.invokeMethodAsync(errorMethod, fileId, `{\"status\": ${req.status}}`);\r\n                return;\r\n            }\r\n            instance.invokeMethodAsync(successMethod, fileId, req.responseText);\r\n        }\r\n    }\r\n    req.upload.onprogress = function (event) {\r\n        var percent = Math.floor(event.loaded / size * 100);\r\n        instance.invokeMethodAsync(percentMethod, fileId, percent);\r\n    }\r\n    req.onerror = function (e) {\r\n        instance.invokeMethodAsync(errorMethod, fileId, \"error\");\r\n    }\r\n    req.open('post', url, true)\r\n    if (headers != null) {\r\n        for (var header in headers) {\r\n            req.setRequestHeader(header, headers[header]);\r\n        }\r\n    }\r\n    req.send(formData)\r\n}\r\n\r\nexport function triggerEvent(element, eventType, eventName, stopPropagation) {\r\n    var dom = getDom(element);\r\n    var evt = document.createEvent(eventType);\r\n    evt.initEvent(eventName);\r\n\r\n    if (stopPropagation) {\r\n        evt.stopPropagation();\r\n    }\r\n\r\n    return dom.dispatchEvent(evt);\r\n}\r\n\r\nexport function setProperty(element, name, value) {\r\n    var dom = getDom(element);\r\n    dom[name] = value;\r\n}\r\n\r\nexport function getBoundingClientRect(element, attach = \"body\") {\r\n    let dom = getDom(element);\r\n\r\n    var result = {}\r\n\r\n    if (dom && dom.getBoundingClientRect) {\r\n        if (dom.style && dom.style['display'] === 'none') {\r\n            var cloned = dom.cloneNode(true);\r\n            cloned.style['display'] = 'inline-block';\r\n            cloned.style['z-index'] = -1000;\r\n            document.querySelector(attach)?.appendChild(cloned);\r\n\r\n            result = cloned.getBoundingClientRect();\r\n\r\n            document.querySelector(attach)?.removeChild(cloned);\r\n        } else {\r\n            result = dom.getBoundingClientRect()\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function getFirstChildBoundingClientRect(element, selector = \"body\") {\r\n    let dom = getDom(element);\r\n    if (dom.firstElementChild) {\r\n        if (dom.firstElementChild.style['display'] === 'none') {\r\n            // clone and set display not none becuase\r\n            // element with display:none can not getBoundingClientRect\r\n            var cloned = dom.firstElementChild.cloneNode(true);\r\n            cloned.style['display'] = 'inline-block'\r\n            cloned.style['z-index'] = -1000\r\n            document.querySelector(selector).appendChild(cloned);\r\n            var value = getBoundingClientRect(cloned);\r\n            document.querySelector(selector).removeChild(cloned);\r\n            return value;\r\n        } else {\r\n            return getBoundingClientRect(dom.firstElementChild);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\nexport function addDomEventListener(element, eventName, preventDefault, invoker) {\r\n    let callback = args => {\r\n        const obj = {};\r\n        for (let k in args) {\r\n            if (k !== 'originalTarget') { //firefox occasionally raises Permission Denied when this property is being stringified\r\n                obj[k] = args[k];\r\n            }\r\n        }\r\n        let json = JSON.stringify(obj, (k, v) => {\r\n            if (v instanceof Node) return 'Node';\r\n            if (v instanceof Window) return 'Window';\r\n            return v;\r\n        }, ' ');\r\n        invoker.invokeMethodAsync('Invoke', json);\r\n        if (preventDefault === true) {\r\n            args.preventDefault();\r\n        }\r\n    };\r\n\r\n    if (element == 'window') {\r\n        if (eventName == 'resize') {\r\n            window.addEventListener(eventName, debounce(() => callback({\r\n                innerWidth: window.innerWidth,\r\n                innerHeight: window.innerHeight\r\n            }), 200, false));\r\n        } else {\r\n            window.addEventListener(eventName, callback);\r\n        }\r\n    } else {\r\n        let dom = getDom(element);\r\n        var htmlElement = dom as HTMLElement;\r\n        if (eventName == 'scroll') {\r\n            htmlElement.addEventListener(eventName, debounce(() => callback(getDomInfo(dom)), 200, false));\r\n        } else {\r\n            htmlElement.addEventListener(eventName, callback);\r\n        }\r\n    }\r\n}\r\n\r\nvar outsideClickListenerCaches: { [key: string]: any } = {}\r\n\r\nexport function addOutsideClickEventListener(invoker, insideSelectors: string[]) {\r\n    if (!insideSelectors) return;\r\n\r\n    var listener = function (args) {\r\n        args.preventDefault();\r\n        var insideClicked = insideSelectors.some(s => document.querySelector(s)?.contains(args.target));\r\n        if (insideClicked) return;\r\n        invoker.invokeMethodAsync(\"Invoke\", {});\r\n    }\r\n\r\n    document.addEventListener(\"click\", listener, { capture: true });\r\n\r\n    var key = `(${insideSelectors.join(',')})document:click`\r\n\r\n    outsideClickListenerCaches[key] = listener;\r\n}\r\n\r\nexport function removeOutsideClickEventListener(insideSelectors: string[]) {\r\n    if (!insideSelectors) return;\r\n\r\n    var key = `(${insideSelectors.join(',')})document:click`\r\n\r\n    if (outsideClickListenerCaches[key]) {\r\n        document.removeEventListener('click', outsideClickListenerCaches[key], { capture: true });\r\n        outsideClickListenerCaches[key] = undefined\r\n    }\r\n}\r\n\r\nexport function addMouseleaveEventListener(selector) {\r\n    var htmlElement = document.querySelector(selector);\r\n    if (htmlElement) {\r\n        htmlElement.addEventListener()\r\n    }\r\n}\r\n\r\nvar htmlElementEventListennerConfigs: { [prop: string]: any[] } = {}\r\n\r\nexport function addHtmlElementEventListener(selector, type, invoker, options, actions) {\r\n    let htmlElement: HTMLElement\r\n\r\n    if (selector == \"document\") {\r\n        htmlElement = document.documentElement;\r\n    } else {\r\n        htmlElement = document.querySelector(selector);\r\n    }\r\n\r\n    var key = `${selector}:${type}`;\r\n\r\n    //save for remove\r\n    var config = {};\r\n\r\n    config[\"listener\"] = function (args) {\r\n        if (actions?.stopPropagation) {\r\n            args.stopPropagation();\r\n        }\r\n\r\n        if (actions?.preventDefault) {\r\n            args.preventDefault();\r\n        }\r\n\r\n        // mouseleave relatedTarget\r\n        if (actions?.relatedTarget && document.querySelector(actions.relatedTarget)?.contains(args.relatedTarget)) {\r\n            return;\r\n        }\r\n\r\n        const obj = {}\r\n\r\n        for (var k in args) {\r\n            if (typeof args[k] == 'string' || typeof args[k] == 'number') {\r\n                obj[k] = args[k];\r\n            } else if (k == 'target') {\r\n                var target = {\r\n                    attributes: {}\r\n                };\r\n\r\n                for (let index = 0; index < args.target.attributes.length; index++) {\r\n                    const attr = args.target.attributes[index];\r\n                    target.attributes[attr.name] = attr.value;\r\n                }\r\n                obj[k] = target;\r\n            }\r\n        }\r\n\r\n        invoker.invokeMethodAsync('Invoke', obj);\r\n    };\r\n\r\n    config['options'] = options;\r\n\r\n    if (htmlElementEventListennerConfigs[key]) {\r\n        htmlElementEventListennerConfigs[key].push(config);\r\n    } else {\r\n        htmlElementEventListennerConfigs[key] = [config]\r\n    }\r\n\r\n    if (htmlElement) {\r\n        htmlElement.addEventListener(type, config[\"listener\"], options);\r\n    }\r\n}\r\n\r\nexport function removeHtmlElementEventListener(selector, type) {\r\n    let htmlElement: HTMLElement\r\n\r\n    if (selector == \"document\") {\r\n        htmlElement = document.documentElement;\r\n    } else {\r\n        htmlElement = document.querySelector(selector);\r\n    }\r\n\r\n    var key = `${selector}:${type}`;\r\n\r\n    var configs = htmlElementEventListennerConfigs[key];\r\n\r\n    if (configs) {\r\n        configs.forEach(item => {\r\n            htmlElement?.removeEventListener(type, item[\"listener\"], item['options']);\r\n        });\r\n\r\n        htmlElementEventListennerConfigs[key] = []\r\n    }\r\n}\r\n\r\nexport function matchMedia(query) {\r\n    return window.matchMedia(query).matches;\r\n}\r\n\r\nfunction fallbackCopyTextToClipboard(text) {\r\n    var textArea = document.createElement(\"textarea\");\r\n    textArea.value = text;\r\n\r\n    // Avoid scrolling to bottom\r\n    textArea.style.top = \"0\";\r\n    textArea.style.left = \"0\";\r\n    textArea.style.position = \"fixed\";\r\n\r\n    document.body.appendChild(textArea);\r\n    textArea.focus();\r\n    textArea.select();\r\n\r\n    try {\r\n        var successful = document.execCommand('copy');\r\n        var msg = successful ? 'successful' : 'unsuccessful';\r\n        console.log('Fallback: Copying text command was ' + msg);\r\n    } catch (err) {\r\n        console.error('Fallback: Oops, unable to copy', err);\r\n    }\r\n\r\n    document.body.removeChild(textArea);\r\n}\r\n\r\nexport function copy(text) {\r\n    if (!navigator.clipboard) {\r\n        fallbackCopyTextToClipboard(text);\r\n        return;\r\n    }\r\n    navigator.clipboard.writeText(text).then(function () {\r\n        console.log('Async: Copying to clipboard was successful!');\r\n    }, function (err) {\r\n        console.error('Async: Could not copy text: ', err);\r\n    });\r\n}\r\n\r\nexport function focus(selector, noScroll: boolean = false) {\r\n    let dom = getDom(selector);\r\n    if (!(dom instanceof HTMLElement))\r\n        throw new Error(\"Unable to focus an invalid element.\");\r\n    dom.focus({\r\n        preventScroll: noScroll\r\n    })\r\n}\r\n\r\nexport function hasFocus(selector) {\r\n    let dom = getDom(selector);\r\n    return (document.activeElement === dom);\r\n}\r\n\r\nexport function blur(selector) {\r\n    let dom = getDom(selector);\r\n    dom.blur();\r\n}\r\n\r\nexport function log(text) {\r\n    console.log(text);\r\n}\r\n\r\nexport function backTop(target: string) {\r\n    let dom = getDom(target);\r\n    if (dom) {\r\n        slideTo(dom.scrollTop);\r\n    } else {\r\n        slideTo(0);\r\n    }\r\n}\r\n\r\nfunction slideTo(targetPageY) {\r\n    var timer = setInterval(function () {\r\n        var currentY = document.documentElement.scrollTop || document.body.scrollTop;\r\n        var distance = targetPageY > currentY ? targetPageY - currentY : currentY - targetPageY;\r\n        var speed = Math.ceil(distance / 10);\r\n        if (currentY == targetPageY) {\r\n            clearInterval(timer);\r\n        } else {\r\n            window.scrollTo(0, targetPageY > currentY ? currentY + speed : currentY - speed);\r\n        }\r\n    }, 10);\r\n}\r\n\r\nexport function scrollTo(target) {\r\n    let dom = getDom(target);\r\n    if (dom instanceof HTMLElement) {\r\n        dom.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"start\",\r\n            inline: \"nearest\"\r\n        });\r\n    }\r\n}\r\n\r\nexport function scrollToActiveElement(container, target) {\r\n    let dom: HTMLElement = getDom(container);\r\n\r\n    target = dom.querySelector('.active') as HTMLElement;\r\n    if (!target) {\r\n        return;\r\n    }\r\n\r\n    dom.scrollTop = target.offsetTop - dom.offsetHeight / 2 + target.offsetHeight / 2;\r\n}\r\n\r\nexport function scrollToPosition(container, position) {\r\n    var dom = getDom(container);\r\n    dom.scrollTop = position;\r\n}\r\n\r\nexport function getFirstChildDomInfo(element, selector = \"body\") {\r\n    var dom = getDom(element);\r\n    if (dom.firstElementChild)\r\n        return getDomInfo(dom.firstElementChild, selector);\r\n    return getDomInfo(dom, selector);\r\n}\r\n\r\nexport function addClsToFirstChild(element, className) {\r\n    var dom = getDom(element);\r\n    if (dom.firstElementChild) {\r\n        dom.firstElementChild.classList.add(className);\r\n    }\r\n}\r\n\r\nexport function removeClsFromFirstChild(element, className) {\r\n    var dom = getDom(element);\r\n    if (dom.firstElementChild) {\r\n        dom.firstElementChild.classList.remove(className);\r\n    }\r\n}\r\n\r\nexport function addDomEventListenerToFirstChild(element, eventName, preventDefault, invoker) {\r\n    var dom = getDom(element);\r\n\r\n    if (dom.firstElementChild) {\r\n        addDomEventListener(dom.firstElementChild, eventName, preventDefault, invoker);\r\n    }\r\n}\r\n\r\nexport function getAbsoluteTop(e) {\r\n    var offset = e.offsetTop;\r\n    if (e.offsetParent != null) {\r\n        offset += getAbsoluteTop(e.offsetParent);\r\n    }\r\n    return offset;\r\n}\r\n\r\nexport function getAbsoluteLeft(e) {\r\n    var offset = e.offsetLeft;\r\n    if (e.offsetParent != null) {\r\n        offset += getAbsoluteLeft(e.offsetParent);\r\n    }\r\n    return offset;\r\n}\r\n\r\nexport function addElementToBody(element) {\r\n    document.body.appendChild(element);\r\n}\r\n\r\nexport function delElementFromBody(element) {\r\n    document.body.removeChild(element);\r\n}\r\n\r\nexport function addElementTo(addElement, elementSelector) {\r\n    let parent = getDom(elementSelector);\r\n    if (parent && addElement) {\r\n        parent.appendChild(addElement);\r\n    }\r\n}\r\n\r\nexport function delElementFrom(delElement, elementSelector) {\r\n    let parent = getDom(elementSelector);\r\n    if (parent && delElement) {\r\n        parent.removeChild(delElement);\r\n    }\r\n}\r\n\r\nexport function getActiveElement() {\r\n    let element = document.activeElement;\r\n    let id = element.getAttribute(\"id\") || \"\";\r\n    return id;\r\n}\r\n\r\nexport function focusDialog(selector: string, count: number = 0) {\r\n    let ele = <HTMLElement>document.querySelector(selector);\r\n    if (ele && !ele.hasAttribute(\"disabled\")) {\r\n        setTimeout(() => {\r\n            ele.focus();\r\n            let curId = \"#\" + getActiveElement();\r\n            if (curId !== selector) {\r\n                if (count < 10) {\r\n                    focusDialog(selector, count + 1);\r\n                }\r\n            }\r\n        }, 10);\r\n    }\r\n}\r\n\r\nexport function getWindow() {\r\n    return {\r\n        innerWidth: window.innerWidth,\r\n        innerHeight: window.innerHeight,\r\n        pageXOffset: window.pageXOffset,\r\n        pageYOffset: window.pageYOffset,\r\n        isTop: window.scrollY == 0,\r\n        isBottom: (window.scrollY + window.innerHeight) == document.body.clientHeight\r\n    };\r\n}\r\n\r\nfunction debounce(func, wait, immediate) {\r\n    var timeout;\r\n    return () => {\r\n        const context = this, args = arguments;\r\n        const later = () => {\r\n            timeout = null;\r\n            if (!immediate) func.apply(this, args);\r\n        };\r\n        const callNow = immediate && !timeout;\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(later, wait);\r\n        if (callNow) func.apply(context, args);\r\n    };\r\n};\r\n\r\nexport function css(element: HTMLElement, name: string | object, value: string | null = null) {\r\n    if (typeof name === 'string') {\r\n        element.style[name] = value;\r\n    } else {\r\n        for (let key in name) {\r\n            if (name.hasOwnProperty(key)) {\r\n                element.style[key] = name[key];\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function addCls(selector: Element | string, clsName: string | Array<string>) {\r\n    let element = getDom(selector);\r\n\r\n    if (typeof clsName === \"string\") {\r\n        element.classList.add(clsName);\r\n    } else {\r\n        element.classList.add(...clsName);\r\n    }\r\n}\r\n\r\nexport function removeCls(selector: Element | string, clsName: string | Array<string>) {\r\n    let element = getDom(selector);\r\n\r\n    if (typeof clsName === \"string\") {\r\n        element.classList.remove(clsName);\r\n    } else {\r\n        element.classList.remove(...clsName);\r\n    }\r\n}\r\n\r\nexport function elementScrollIntoView(selector: Element | string) {\r\n    let element = getDom(selector);\r\n\r\n    if (!element)\r\n        return;\r\n\r\n    element.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' });\r\n}\r\n\r\nconst oldBodyCacheStack = [];\r\n\r\nconst hasScrollbar = () => {\r\n    let overflow = document.body.style.overflow;\r\n    if (overflow && overflow === \"hidden\") return false;\r\n    return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nexport function disableBodyScroll() {\r\n    let body = document.body;\r\n    const oldBodyCache = {};\r\n    [\"position\", \"width\", \"overflow\"].forEach((key) => {\r\n        oldBodyCache[key] = body.style[key];\r\n    });\r\n    oldBodyCacheStack.push(oldBodyCache);\r\n    css(body,\r\n        {\r\n            \"position\": \"relative\",\r\n            \"width\": hasScrollbar() ? \"calc(100% - 17px)\" : null,\r\n            \"overflow\": \"hidden\"\r\n        });\r\n    addCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function enableBodyScroll() {\r\n    let oldBodyCache = oldBodyCacheStack.length > 0 ? oldBodyCacheStack.pop() : {};\r\n\r\n    css(document.body,\r\n        {\r\n            \"position\": oldBodyCache[\"position\"] ?? null,\r\n            \"width\": oldBodyCache[\"width\"] ?? null,\r\n            \"overflow\": oldBodyCache[\"overflow\"] ?? null\r\n        });\r\n    removeCls(document.body, \"ant-scrolling-effect\");\r\n}\r\n\r\nexport function destroyAllDialog() {\r\n    document.querySelectorAll('.ant-modal-root')\r\n        .forEach(e => document.body.removeChild(e.parentNode));\r\n}\r\n\r\nexport function createIconFromfontCN(scriptUrl) {\r\n    if (document.querySelector(`[data-namespace=\"${scriptUrl}\"]`)) {\r\n        return;\r\n    }\r\n    const script = document.createElement('script');\r\n    script.setAttribute('src', scriptUrl);\r\n    script.setAttribute('data-namespace', scriptUrl);\r\n    document.body.appendChild(script);\r\n}\r\n\r\nexport function getScroll() {\r\n    return { x: window.pageXOffset, y: window.pageYOffset };\r\n}\r\n\r\nexport function getInnerText(element) {\r\n    let dom = getDom(element);\r\n    return dom.innerText;\r\n}\r\n\r\nexport function getMenuOrDialogMaxZIndex(exclude: Element[] = [], element: Element) {\r\n    const base = getDom(element);\r\n    // Start with lowest allowed z-index or z-index of\r\n    // base component's element, whichever is greater\r\n    const zis = [getZIndex(base)]\r\n\r\n    const activeElements = [\r\n        ...document.getElementsByClassName('m-menu__content--active'),\r\n        ...document.getElementsByClassName('m-dialog__content--active'),\r\n    ]\r\n\r\n    // Get z-index for all active dialogs\r\n    for (let index = 0; index < activeElements.length; index++) {\r\n        if (!exclude.includes(activeElements[index])) {\r\n            zis.push(getZIndex(activeElements[index]))\r\n        }\r\n    }\r\n\r\n    return Math.max(...zis)\r\n}\r\n\r\nexport function getMaxZIndex() {\r\n    return [...document.all].reduce((r, e) => Math.max(r, +window.getComputedStyle(e).zIndex || 0), 0)\r\n}\r\n\r\nexport function getStyle(element, styleProp) {\r\n    element = getDom(element);\r\n\r\n    if (element.currentStyle) {\r\n        return element.currentStyle[styleProp];\r\n    } else if (window.getComputedStyle) {\r\n        return document.defaultView.getComputedStyle(element, null).getPropertyValue(styleProp);\r\n    }\r\n}\r\n\r\nexport function getTextAreaInfo(element) {\r\n    var result = {};\r\n    var dom = getDom(element);\r\n    result[\"scrollHeight\"] = dom.scrollHeight || 0;\r\n\r\n    if (element.currentStyle) {\r\n        result[\"lineHeight\"] = parseFloat(element.currentStyle[\"line-height\"]);\r\n        result[\"paddingTop\"] = parseFloat(element.currentStyle[\"padding-top\"]);\r\n        result[\"paddingBottom\"] = parseFloat(element.currentStyle[\"padding-bottom\"]);\r\n        result[\"borderBottom\"] = parseFloat(element.currentStyle[\"border-bottom\"]);\r\n        result[\"borderTop\"] = parseFloat(element.currentStyle[\"border-top\"]);\r\n    } else if (window.getComputedStyle) {\r\n        result[\"lineHeight\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"line-height\"));\r\n        result[\"paddingTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-top\"));\r\n        result[\"paddingBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"padding-bottom\"));\r\n        result[\"borderBottom\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-bottom\"));\r\n        result[\"borderTop\"] = parseFloat(document.defaultView.getComputedStyle(element, null).getPropertyValue(\"border-top\"));\r\n    }\r\n    //Firefox can return this as NaN, so it has to be handled here like that.\r\n    if (Object.is(NaN, result[\"borderTop\"]))\r\n        result[\"borderTop\"] = 1;\r\n    if (Object.is(NaN, result[\"borderBottom\"]))\r\n        result[\"borderBottom\"] = 1;\r\n    return result;\r\n}\r\n\r\nconst funcDict = {};\r\n\r\nexport function registerResizeTextArea(element, minRows, maxRows, objReference) {\r\n    if (!objReference) {\r\n        disposeResizeTextArea(element);\r\n    } else {\r\n        objReferenceDict[element.id] = objReference;\r\n        funcDict[element.id + \"input\"] = function () {\r\n            resizeTextArea(element, minRows, maxRows);\r\n        }\r\n        element.addEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n        return getTextAreaInfo(element);\r\n    }\r\n}\r\n\r\nexport function disposeResizeTextArea(element) {\r\n    element.removeEventListener(\"input\", funcDict[element.id + \"input\"]);\r\n    objReferenceDict[element.id] = null;\r\n    funcDict[element.id + \"input\"] = null;\r\n\r\n}\r\n\r\nexport function resizeTextArea(element, minRows, maxRows) {\r\n    var dims = getTextAreaInfo(element);\r\n    var rowHeight = dims[\"lineHeight\"];\r\n    var offsetHeight = dims[\"paddingTop\"] + dims[\"paddingBottom\"] + dims[\"borderTop\"] + dims[\"borderBottom\"];\r\n    var oldHeight = parseFloat(element.style.height);\r\n    element.style.height = 'auto';\r\n\r\n    var rows = Math.trunc(element.scrollHeight / rowHeight);\r\n    rows = Math.max(minRows, rows);\r\n\r\n    var newHeight = 0;\r\n    if (rows > maxRows) {\r\n        rows = maxRows;\r\n\r\n        newHeight = (rows * rowHeight + offsetHeight);\r\n        element.style.height = newHeight + \"px\";\r\n        element.style.overflowY = \"visible\";\r\n    } else {\r\n        newHeight = rows * rowHeight + offsetHeight;\r\n        element.style.height = newHeight + \"px\";\r\n        element.style.overflowY = \"hidden\";\r\n    }\r\n    if (oldHeight !== newHeight) {\r\n        let textAreaObj = objReferenceDict[element.id];\r\n        textAreaObj.invokeMethodAsync(\"ChangeSizeAsyncJs\", parseFloat(element.scrollWidth), newHeight);\r\n    }\r\n}\r\n\r\n\r\nconst objReferenceDict = {};\r\n\r\nexport function disposeObj(objReferenceName) {\r\n    delete objReferenceDict[objReferenceName];\r\n}\r\n\r\n//#region mentions\r\n\r\nimport getOffset from \"./modules/Caret\";\r\n\r\nexport function getCursorXY(element, objReference) {\r\n    objReferenceDict[\"mentions\"] = objReference;\r\n    window.addEventListener(\"click\", mentionsOnWindowClick);\r\n\r\n    var offset = getOffset(element);\r\n\r\n    return [offset.left, offset.top + offset.height + 14];\r\n}\r\n\r\nfunction mentionsOnWindowClick(e) {\r\n    let mentionsObj = objReferenceDict[\"mentions\"];\r\n    if (mentionsObj) {\r\n        mentionsObj.invokeMethodAsync(\"CloseMentionsDropDown\");\r\n    } else {\r\n        window.removeEventListener(\"click\", mentionsOnWindowClick);\r\n    }\r\n}\r\n\r\n//#endregion\r\n\r\nexport { disableDraggable, enableDraggable, resetModalPosition } from \"./modules/dragHelper\";\r\n\r\nexport function bindTableHeaderAndBodyScroll(bodyRef, headerRef) {\r\n    bodyRef.bindScrollLeftToHeader = () => {\r\n        headerRef.scrollLeft = bodyRef.scrollLeft;\r\n    }\r\n    bodyRef.addEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n}\r\n\r\nexport function unbindTableHeaderAndBodyScroll(bodyRef) {\r\n    if (bodyRef) {\r\n        bodyRef.removeEventListener('scroll', bodyRef.bindScrollLeftToHeader);\r\n    }\r\n}\r\n\r\nfunction preventKeys(e, keys: string[]) {\r\n    if (keys.indexOf(e.key.toUpperCase()) !== -1) {\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function addPreventKeys(inputElement, keys: string[]) {\r\n    if (inputElement) {\r\n        let dom = getDom(inputElement);\r\n        keys = keys.map(function (x) {\r\n            return x.toUpperCase();\r\n        })\r\n        funcDict[inputElement.id + \"keydown\"] = (e) => preventKeys(e, keys);\r\n        (dom as HTMLElement).addEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"], false);\r\n    }\r\n}\r\n\r\nexport function removePreventKeys(inputElement) {\r\n    if (inputElement) {\r\n        let dom = getDom(inputElement);\r\n        (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[inputElement.id + \"keydown\"]);\r\n        funcDict[inputElement.id + \"keydown\"] = null;\r\n    }\r\n}\r\n\r\nfunction preventKeyOnCondition(e, key: string, check: () => boolean) {\r\n    if (e.key.toUpperCase() === key.toUpperCase() && check()) {\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function addPreventEnterOnOverlayVisible(element, overlayElement) {\r\n    if (element && overlayElement) {\r\n        let dom = getDom(element);\r\n        funcDict[element.id + \"keydown:Enter\"] = (e) => preventKeyOnCondition(e, \"enter\", () => overlayElement.offsetParent !== null);\r\n        (dom as HTMLElement).addEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"], false);\r\n    }\r\n}\r\n\r\nexport function removePreventEnterOnOverlayVisible(element) {\r\n    if (element) {\r\n        let dom = getDom(element);\r\n        (dom as HTMLElement).removeEventListener(\"keydown\", funcDict[element.id + \"keydown:Enter\"]);\r\n        funcDict[element.id + \"keydown:Enter\"] = null;\r\n    }\r\n}\r\n\r\nexport function insertAdjacentHTML(position, text: string) {\r\n    document.head.insertAdjacentHTML(position, text);\r\n}\r\n\r\nexport function getImageDimensions(src: string) {\r\n    return new Promise(function (resolve, reject) {\r\n        var img = new Image()\r\n        img.src = src\r\n        img.onload = function () {\r\n            resolve({\r\n                width: img.width,\r\n                height: img.height,\r\n                hasError: false\r\n            })\r\n        }\r\n        img.onerror = function () {\r\n            resolve({\r\n                width: 0,\r\n                height: 0,\r\n                hasError: true\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nexport function preventDefaultOnArrowUpDown(element) {\r\n    let dom: Element = getDom(element);\r\n    dom.addEventListener(\"keydown\", function (e: KeyboardEvent) {\r\n        if (e.code == \"ArrowUp\" || e.code == \"ArrowDown\" || e.code == \"Enter\") {\r\n            e.preventDefault();\r\n        }\r\n    })\r\n}\r\n\r\nexport function observer(element, invoker) {\r\n    const resizeObserver = new ResizeObserver((entries => {\r\n        const dimensions = [];\r\n        for (var entry of entries) {\r\n            const dimension = entry.contentRect;\r\n            dimensions.push(dimension);\r\n        }\r\n        invoker.invokeMethodAsync('Invoke', dimensions);\r\n    }));\r\n    resizeObserver.observe(getDom(element));\r\n}\r\n\r\nexport function getBoundingClientRects(selector) {\r\n    var elements = document.querySelectorAll(selector);\r\n\r\n    var result = [];\r\n\r\n    for (var i = 0; i < elements.length; i++) {\r\n        var e: Element = elements[i];\r\n        var dom = {\r\n            id: e.id,\r\n            rect: e.getBoundingClientRect()\r\n        };\r\n        result.push(dom);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nexport function getSize(selectors, sizeProp) {\r\n    var el = getDom(selectors);\r\n\r\n    var display = el.style.display;\r\n    var overflow = el.style.overflow;\r\n\r\n    el.style.display = \"\";\r\n    el.style.overflow = \"hidden\";\r\n\r\n    var size = el[\"offset\" + sizeProp] || 0;\r\n\r\n    el.style.display = display;\r\n    el.style.overflow = overflow;\r\n\r\n    return size;\r\n}\r\n\r\nexport function getProp(selectors, name) {\r\n    var el = getDom(selectors);\r\n    if (!el) {\r\n        return null;\r\n    }\r\n\r\n    return el[name];\r\n}\r\n\r\nexport function updateWindowTransition(selectors, isActive, item) {\r\n    var el: HTMLElement = getDom(selectors);\r\n    var container: HTMLElement = el.querySelector('.m-window__container');\r\n\r\n    if (item) {\r\n        var itemEl: HTMLElement = getDom(item);\r\n        container.style.height = itemEl.clientHeight + 'px';\r\n        return;\r\n    }\r\n\r\n    if (isActive) {\r\n        container.classList.add('m-window__container--is-active');\r\n        container.style.height = el.clientHeight + 'px';\r\n    } else {\r\n        container.style.height = '';\r\n        container.classList.remove('m-window__container--is-active');\r\n    }\r\n}\r\n\r\nexport function getScrollHeightWithoutHeight(selectors) {\r\n    var el: HTMLElement = getDom(selectors);\r\n    if (!el) {\r\n        return 0;\r\n    }\r\n\r\n    var height = el.style.height;\r\n    el.style.height = '0'\r\n    var scrollHeight = el.scrollHeight;\r\n    el.style.height = height;\r\n\r\n    return scrollHeight;\r\n}\r\n\r\nexport function insertToFirst(element: HTMLElement) {\r\n    element.parentElement.insertBefore(element, element.parentElement.firstChild);\r\n}\r\n\r\n//register custom events\r\nwindow.onload = function () {\r\n    registerCustomEvent(\"exmousedown\", \"mousedown\");\r\n    registerCustomEvent(\"exclick\", \"click\");\r\n    registerCustomEvent(\"exmouseleave\", \"mouseleave\");\r\n    registerCustomEvent(\"exmouseenter\", \"mouseenter\");\r\n    registerCustomEvent(\"exmousemove\", \"mousemove\");\r\n    registerDirective();\r\n}\r\n\r\nfunction registerCustomEvent(eventType, eventName) {\r\n    if (Blazor) {\r\n        Blazor.registerCustomEventType(eventType, {\r\n            browserEventName: eventName,\r\n            createEventArgs: args => {\r\n                var e = {};\r\n\r\n                for (var k in args) {\r\n                    if (typeof args[k] == 'string' || typeof args[k] == 'number') {\r\n                        e[k] = args[k];\r\n                    } else if (k == 'target') {\r\n                        var target = {\r\n                            attributes: {}\r\n                        };\r\n\r\n                        for (let index = 0; index < args.target.attributes.length; index++) {\r\n                            const attr = args.target.attributes[index];\r\n                            target.attributes[attr.name] = attr.value;\r\n                        }\r\n                        e[k] = target;\r\n                    }\r\n                }\r\n\r\n                return e;\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function isMobile() {\r\n    return /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)\r\n        || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(navigator.userAgent.substr(0, 4));\r\n}\r\n\r\nexport function checkElementFixed(selector) {\r\n    let el = document.querySelector(selector);\r\n    while (el) {\r\n        if (window.getComputedStyle(el).position === 'fixed') {\r\n            return true;\r\n        }\r\n\r\n        el = el.offsetParent as HTMLElement;\r\n    }\r\n\r\n    return false;\r\n}\r\n","﻿//extract from https://github.com/ichord/Caret.js\r\n\r\nclass InputCaret {\r\n    domInputor: any;\r\n\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n    }\r\n\r\n    getPos = function () {\r\n        return this.domInputor.selectionStart;\r\n    };\r\n\r\n    getPosition = function (pos) {\r\n        var domInputor, end_range, format, html, mirror, start_range;\r\n        domInputor = this.domInputor;\r\n\r\n        format = function (value) {\r\n            value = value.replace(/<|>|`|\"|&/g, '?').replace(/\\r\\n|\\r|\\n/g, \"<br/>\");\r\n            if (/firefox/i.test(navigator.userAgent)) {\r\n                value = value.replace(/\\s/g, '&nbsp;');\r\n            }\r\n            return value;\r\n        };\r\n        if (!pos) {\r\n            pos = this.getPos();\r\n        }\r\n        let inputorValue = domInputor.value;\r\n        start_range = inputorValue.slice(0, pos);\r\n        end_range = inputorValue.slice(pos);\r\n        html = \"<span style='position: relative; display: inline;'>\" + format(start_range) + \"</span>\";\r\n        html += \"<span id='caret' style='position: relative; display: inline;'>|</span>\";\r\n        html += \"<span style='position: relative; display: inline;'>\" + format(end_range) + \"</span>\";\r\n        mirror = new Mirror(domInputor);\r\n        return mirror.create(html).rect();\r\n    };\r\n\r\n    getOffset = function (pos = null) {\r\n        var offset, position, domInputor;\r\n        domInputor = this.domInputor;\r\n\r\n        var rect = domInputor.getBoundingClientRect();\r\n\r\n        offset = {\r\n            left: rect.left,\r\n            top: rect.top\r\n        };\r\n     \r\n        position = this.getPosition(pos);\r\n        return offset = {\r\n            left: offset.left + position.left - domInputor.scrollLeft, \r\n            top: offset.top + position.top - domInputor.scrollTop, \r\n            height: position.height\r\n        };\r\n    };\r\n\r\n}\r\n\r\nclass Mirror {\r\n    domInputor: any;\r\n    css_attr: any;\r\n    constructor(inputor) {\r\n        this.domInputor = inputor;\r\n        this.css_attr = [];\r\n    }\r\n\r\n    create = function (html) {\r\n        this.$mirror = document.createElement(\"div\");\r\n\r\n        (<any>window).AntDesign.interop.css(this.$mirror, this.mirrorCss());\r\n\r\n        this.$mirror.innerHTML = html;\r\n        this.domInputor.parentElement.append(this.$mirror);\r\n\r\n        return this;\r\n    };\r\n\r\n    mirrorCss = function () {\r\n        var css, _this = this;\r\n        css = {\r\n            position: 'absolute',\r\n            left: -9999,\r\n            top: 0,\r\n            zIndex: -20000\r\n        };\r\n\r\n        this.css_attr.push('width');\r\n\r\n        this.css_attr.forEach((p) => {\r\n            return css[p] = _this.domInputor.style[p]//_this.$inputor.css(p);\r\n        })\r\n        \r\n        return css;\r\n    };\r\n\r\n    rect = function () {\r\n        var flag, pos, rect;\r\n        flag = this.$mirror.querySelector(\"#caret\");\r\n        var oRect = flag.getBoundingClientRect();\r\n\r\n        pos = {\r\n            left: flag.offsetLeft,\r\n            top: flag.offsetTop\r\n        }; //$flag.position();\r\n\r\n        rect = {\r\n            left: pos.left,\r\n            top: pos.top,\r\n            height: oRect.height\r\n        };\r\n\r\n        this.$mirror.parentElement.removeChild(this.$mirror)\r\n        return rect;\r\n    };\r\n\r\n}\r\n\r\nfunction getOffset(elem) {\r\n    return (new InputCaret(elem)).getOffset();\r\n}\r\n\r\nexport default getOffset;","﻿\r\nconst throttle = (fn, threshold = 160) => {\r\n    let timeout;\r\n    var start = +new Date;\r\n    return function (...args) {\r\n        let context = this, curTime = +new Date() - 0;\r\n        //总是干掉事件回调\r\n        window.clearTimeout(timeout);\r\n        if (curTime - start >= threshold) {\r\n            //只执行一部分方法，这些方法是在某个时间段内执行一次\r\n            fn.apply(context, args);\r\n            start = curTime;\r\n        }\r\n        else {\r\n            //让方法在脱离事件后也能执行一次\r\n            timeout = window.setTimeout(() => {\r\n                //@ts-ignore\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        }\r\n    };\r\n}\r\n\r\nconst eventMap = new Map<HTMLElement, Dragger>();\r\n\r\nconst defaultOptions = {\r\n    inViewport: true\r\n}\r\n\r\nclass Dragger {\r\n\r\n    private _triggler: HTMLElement = null;\r\n    private _container: HTMLElement = null;\r\n    private _options: any = null;\r\n    private _state: any = null;\r\n    private _isFirst: boolean = true;\r\n    private _style: string = null;\r\n\r\n    constructor(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean) {\r\n        this._triggler = triggler;\r\n        this._container = container;\r\n        this._options = Object.assign({}, defaultOptions, {\r\n            inViewport: dragInViewport\r\n        });\r\n        this._state = {\r\n            isInDrag: false,\r\n            mX: 0, // mouse x\r\n            mY: 0, // mouse y\r\n            domStartX: 0, // on mousedown, the mouse x\r\n            domStartY: 0, // on mousedown, the mouse y            \r\n        }\r\n    }\r\n\r\n    getContainerPos() {\r\n        const rect = this._container.getBoundingClientRect();\r\n        return {\r\n            left: rect.left,\r\n            top: rect.top\r\n        }\r\n    }\r\n\r\n    onMousedown = (e) => {\r\n        const state = this._state;\r\n        state.isInDrag = true;\r\n        state.mX = e.clientX;\r\n        state.mY = e.clientY;\r\n        this._container.style.position = \"absolute\";\r\n        const { left, top } = this.getContainerPos();\r\n\r\n        if (this._isFirst) {\r\n\r\n            state.domMaxY = document.documentElement.clientHeight\r\n                - this._container.offsetHeight - 1;\r\n            state.domMaxX = document.documentElement.clientWidth\r\n                - this._container.offsetWidth - 1;\r\n\r\n            this._container.style.left = left + 'px';\r\n            this._container.style.top = top + 'px';\r\n\r\n            if (!this._style) {\r\n                this._style = this._container.getAttribute(\"style\");\r\n            }\r\n\r\n            this._isFirst = false;\r\n        }\r\n\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMouseup = (e) => {\r\n        const state = this._state;\r\n\r\n        state.isInDrag = false;\r\n\r\n        const { left, top } = this.getContainerPos();\r\n        state.domStartX = left;\r\n        state.domStartY = top;\r\n    }\r\n\r\n    onMousemove = throttle((e) => {\r\n        const state = this._state;\r\n        if (state.isInDrag) {\r\n            var nowX = e.clientX,\r\n                nowY = e.clientY,\r\n                disX = nowX - state.mX,\r\n                disY = nowY - state.mY;\r\n\r\n            var newDomX = state.domStartX + disX;\r\n            var newDomY = state.domStartY + disY;\r\n            if (this._options.inViewport) {\r\n                if (newDomX < 0) {\r\n                    newDomX = 0;\r\n                }\r\n                else if (newDomX > state.domMaxX) {\r\n                    newDomX = state.domMaxX;\r\n                }\r\n                if (newDomY < 0) {\r\n                    newDomY = 0;\r\n                }\r\n                else if (newDomY > state.domMaxY) {\r\n                    newDomY = state.domMaxY;\r\n                }\r\n            }\r\n            this._container.style.position = \"absolute\";\r\n            this._container.style.margin = \"0\";\r\n            this._container.style.paddingBottom = \"0\";\r\n            this._container.style.left = newDomX + \"px\";\r\n            this._container.style.top = newDomY + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    onResize = throttle((e) => {\r\n        const state = this._state;\r\n\r\n        state.domMaxY = document.documentElement.clientHeight\r\n            - this._container.offsetHeight - 1;\r\n        state.domMaxX = document.documentElement.clientWidth\r\n            - this._container.offsetWidth - 1;\r\n        state.domStartY = parseInt(this._container.style.top);\r\n        state.domStartX = parseInt(this._container.style.left);\r\n        if (state.domStartY > state.domMaxY) {\r\n            if (state.domMaxY > 0) {\r\n                this._container.style.top = state.domMaxY + \"px\";\r\n            }\r\n        }\r\n        if (state.domStartX > state.domMaxX) {\r\n            this._container.style.left = state.domMaxX + \"px\";\r\n        }\r\n    }, 10).bind(this);\r\n\r\n    bindDrag() {\r\n        const triggler = this._triggler;\r\n        const options = this._options;\r\n\r\n        triggler.addEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.addEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.addEventListener(\"mousemove\", this.onMousemove);\r\n        if (options.inViewport) {\r\n            window.addEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    unbindDrag() {\r\n        const triggler = this._triggler;\r\n\r\n        triggler.removeEventListener(\"mousedown\", this.onMousedown, false);\r\n        window.removeEventListener(\"mouseup\", this.onMouseup, false);\r\n        document.removeEventListener(\"mousemove\", this.onMousemove);\r\n        if (this._options.inViewport) {\r\n            window.removeEventListener(\"resize\", this.onResize, false);\r\n        }\r\n    }\r\n\r\n    resetContainerStyle() {\r\n        if (this._style !== null) {\r\n            this._isFirst = true;\r\n            this._container.setAttribute(\"style\", this._style);\r\n        }\r\n    }\r\n}\r\n\r\nfunction enableDraggable(triggler: HTMLElement, container: HTMLElement, dragInViewport: boolean = true) {\r\n    let dragger = eventMap.get(triggler);\r\n    if (!dragger) {\r\n        dragger = new Dragger(triggler, container, dragInViewport);\r\n        eventMap.set(triggler, dragger);\r\n    } \r\n    dragger.bindDrag();\r\n}\r\n\r\nfunction disableDraggable(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.unbindDrag();\r\n    }\r\n}\r\n\r\nfunction resetModalPosition(triggler: HTMLElement) {\r\n    const dragger = eventMap.get(triggler);\r\n    if (dragger) {\r\n        dragger.resetContainerStyle();\r\n    }\r\n}\r\n\r\nexport { enableDraggable, disableDraggable, resetModalPosition };"]}